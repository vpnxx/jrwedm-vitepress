(function(e,i){typeof exports=="object"&&typeof module<"u"?module.exports=i(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],i):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=i(e.Vue,e.dateFns))})(this,function(e,i){"use strict";function at(){const t=e.useAttrs();return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...t},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}at.compatConfig={MODE:3};function on(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}on.compatConfig={MODE:3};function Ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Ct.compatConfig={MODE:3};function Bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Bt.compatConfig={MODE:3};function Tt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Tt.compatConfig={MODE:3};function $t(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}$t.compatConfig={MODE:3};function At(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}At.compatConfig={MODE:3};const Oe=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),Pt=(t,n,o)=>{const a=Rt(t,n,o);return a||j()},Ln=(t,n,o)=>{const a=n.dateInTz?Oe(new Date(t),n.dateInTz):j(t);return o?Ae(a,!0):a},Rt=(t,n,o)=>{if(!t)return null;const a=o?Ae(j(t),!0):j(t);return n?n.exactMatch?Ln(t,n,o):Oe(a,n.timezone):a},Hn=t=>{const o=new Date(t.getFullYear(),0,1).getTimezoneOffset();return t.getTimezoneOffset()<o},Un=(t,n)=>{if(!t)return 0;const o=new Date,a=new Date(o.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(o.toLocaleString("en-US",{timeZone:t})),f=(Hn(n??r)?r:n??r).getTimezoneOffset()/60;return(+a-+r)/(1e3*60*60)-f};var _e=(t=>(t.month="month",t.year="year",t))(_e||{}),Ie=(t=>(t.top="top",t.bottom="bottom",t))(Ie||{}),Ze=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ze||{}),Pe=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Pe||{});const Wn=["timestamp","date","iso"];var Ee=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Ee||{}),he=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(he||{}),rt=(t=>(t.MONTH_AND_YEAR="MM-yyyy",t.YEAR="yyyy",t.DATE="dd-MM-yyyy",t))(rt||{});function sn(t){return n=>{const o=new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`));return t==="ar"?o.slice(2,5):o.slice(0,2)}}function jn(t){return n=>i.format(Oe(new Date(`2017-01-0${n}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const Kn=(t,n,o)=>{const a=[1,2,3,4,5,6,7];let r;if(t!==null)try{r=a.map(jn(t))}catch{r=a.map(sn(n))}else r=a.map(sn(n));const u=r.slice(0,o),f=r.slice(o+1,r.length);return[r[o]].concat(...f).concat(...u)},Et=(t,n,o)=>{const a=[];for(let r=+t[0];r<=+t[1];r++)a.push({value:+r,text:pn(r,n)});return o?a.reverse():a},un=(t,n,o)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(u=>{const f=u<10?`0${u}`:u;return new Date(`2017-${f}-01T00:00:00+00:00`)});if(t!==null)try{const u=o==="long"?"LLLL":"LLL";return a.map((f,y)=>{const d=i.format(Oe(f,"UTC"),u,{locale:t});return{text:d.charAt(0).toUpperCase()+d.substring(1),value:y}})}catch{}const r=new Intl.DateTimeFormat(n,{month:o,timeZone:"UTC"});return a.map((u,f)=>{const y=r.format(u);return{text:y.charAt(0).toUpperCase()+y.substring(1),value:f}})},xn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Be=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},qn=t=>({type:"dot",...t??{}}),cn=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Nt={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Te=t=>t,dn=t=>t===0?t:!t||isNaN(+t)?null:+t,fn=t=>t===null,mn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Gn=t=>{const n=[],o=a=>a.filter(r=>r);for(let a=0;a<t.length;a+=3){const r=[t[a],t[a+1],t[a+2]];n.push(o(r))}return n},ut=(t,n,o)=>{const a=o!=null,r=n!=null;if(!a&&!r)return!1;const u=+o,f=+n;return a&&r?+t>u||+t<f:a?+t>u:r?+t<f:!1},lt=(t,n)=>Gn(t).map(o=>o.map(a=>{const{active:r,disabled:u,isBetween:f,highlighted:y}=n(a);return{...a,active:r,disabled:u,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:u,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:u&&r,dp__cell_in_between:f,"dp--highlighted":y}}})),xe=(t,n,o=!1)=>{t&&n.allowStopPropagation&&(o&&t.stopImmediatePropagation(),t.stopPropagation())},Qn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Xn(t,n){let o=[...document.querySelectorAll(Qn())];o=o.filter(r=>!t.contains(r)||r.hasAttribute("data-datepicker-instance"));const a=o.indexOf(t);if(a>=0&&(n?a-1>=0:a+1<=o.length))return o[a+(n?-1:1)]}const Ot=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),pn=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Yt=(t,n)=>i.format(t,n??rt.DATE),Vt=t=>Array.isArray(t),yt=(t,n,o)=>n.get(Yt(t,o)),Jn=(t,n)=>t?n?n instanceof Map?!!yt(t,n):n(j(t)):!1:!0,Ne=(t,n,o=!1,a)=>{if(t.key===he.enter||t.key===he.space)return o&&t.preventDefault(),n();if(a)return a(t)},Zn=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,gn=(t,n)=>t?rt.MONTH_AND_YEAR:n?rt.YEAR:rt.DATE,yn=t=>t<10?`0${t}`:t,hn=(t,n,o,a,r,u)=>{const f=i.parse(t,n.slice(0,t.length),new Date,{locale:u});return i.isValid(f)&&i.isDate(f)?a||r?f:i.set(f,{hours:+o.hours,minutes:+(o==null?void 0:o.minutes),seconds:+(o==null?void 0:o.seconds),milliseconds:0}):null},Fn=(t,n,o,a,r,u)=>{const f=Array.isArray(o)?o[0]:o;if(typeof n=="string")return hn(t,n,f,a,r,u);if(Array.isArray(n)){let y=null;for(const d of n)if(y=hn(t,d,f,a,r,u),y)break;return y}return typeof n=="function"?n(t):null},j=t=>t?new Date(t):new Date,ea=(t,n,o)=>{if(n){const r=(t.getMonth()+1).toString().padStart(2,"0"),u=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),y=t.getMinutes().toString().padStart(2,"0"),d=o?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${r}-${u}T${f}:${y}:${d}.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},Ae=(t,n)=>{const o=j(JSON.parse(JSON.stringify(t))),a=i.set(o,{hours:0,minutes:0,seconds:0,milliseconds:0});return n?i.startOfMonth(a):a},qe=(t,n,o,a)=>{let r=t?j(t):j();return(n||n===0)&&(r=i.setHours(r,+n)),(o||o===0)&&(r=i.setMinutes(r,+o)),(a||a===0)&&(r=i.setSeconds(r,+a)),i.setMilliseconds(r,0)},Me=(t,n)=>!t||!n?!1:i.isBefore(Ae(t),Ae(n)),ge=(t,n)=>!t||!n?!1:i.isEqual(Ae(t),Ae(n)),Se=(t,n)=>!t||!n?!1:i.isAfter(Ae(t),Ae(n)),ct=(t,n,o)=>t!=null&&t[0]&&(t!=null&&t[1])?Se(o,t[0])&&Me(o,t[1]):t!=null&&t[0]&&n?Se(o,t[0])&&Me(o,n)||Me(o,t[0])&&Se(o,n):!1,ze=t=>{const n=i.set(new Date(t),{date:1});return Ae(n)},_t=(t,n,o)=>n&&(o||o===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===n?[a,o]:[a,isNaN(+t[a])?void 0:+t[a]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Fe=t=>({hours:i.getHours(t),minutes:i.getMinutes(t),seconds:i.getSeconds(t)}),kn=(t,n)=>{if(n){const o=i.getYear(j(n));if(o>t)return 12;if(o===t)return i.getMonth(j(n))}},bn=(t,n)=>{if(n){const o=i.getYear(j(n));return o<t?-1:o===t?i.getMonth(j(n)):void 0}},ot=t=>{if(t)return i.getYear(j(t))},vn=(t,n)=>{const o=Se(t,n)?n:t,a=Se(n,t)?n:t;return i.eachDayOfInterval({start:o,end:a})},ta=t=>{const n=i.addMonths(t,1);return{month:i.getMonth(n),year:i.getYear(n)}},We=(t,n)=>{const o=i.startOfWeek(t,{weekStartsOn:+n}),a=i.endOfWeek(t,{weekStartsOn:+n});return[o,a]},wn=(t,n)=>{const o={hours:i.getHours(j()),minutes:i.getMinutes(j()),seconds:n?i.getSeconds(j()):0};return Object.assign(o,t)},Ge=(t,n,o)=>[i.set(j(t),{date:1}),i.set(j(),{month:n,year:o,date:1})],je=(t,n,o)=>{let a=t?j(t):j();return(n||n===0)&&(a=i.setMonth(a,n)),o&&(a=i.setYear(a,o)),a},Mn=(t,n,o,a,r)=>{if(!a||r&&!n||!r&&!o)return!1;const u=r?i.addMonths(t,1):i.subMonths(t,1),f=[i.getMonth(u),i.getYear(u)];return r?!aa(...f,n):!na(...f,o)},na=(t,n,o)=>Me(...Ge(o,t,n))||ge(...Ge(o,t,n)),aa=(t,n,o)=>Se(...Ge(o,t,n))||ge(...Ge(o,t,n)),Dn=(t,n,o,a,r,u,f)=>{if(typeof n=="function"&&!f)return n(t);const y=o?{locale:o}:void 0;return Array.isArray(t)?`${i.format(t[0],u,y)}${r&&!t[1]?"":a}${t[1]?i.format(t[1],u,y):""}`:i.format(t,u,y)},st=t=>{if(t)return null;throw new Error(Nt.prop("partial-range"))},ht=(t,n)=>{if(n)return t();throw new Error(Nt.prop("range"))},It=t=>Array.isArray(t)?i.isValid(t[0])&&(t[1]?i.isValid(t[1]):!0):t?i.isValid(t):!1,ra=(t,n)=>i.set(n??j(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),zt=(t,n,o,a)=>{if(!t)return!0;if(a){const r=o==="max"?i.isBefore(t,n):i.isAfter(t,n),u={seconds:0,milliseconds:0};return r||i.isEqual(i.set(t,u),i.set(n,u))}return o==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Lt=(t,n,o)=>t?ra(t,n):j(o??n),Sn=(t,n,o,a,r)=>{if(Array.isArray(a)){const f=Lt(t,a[0],n),y=Lt(t,a[1],n);return zt(a[0],f,o,!!n)&&zt(a[1],y,o,!!n)&&r}const u=Lt(t,a,n);return zt(a,u,o,!!n)&&r},Ht=t=>i.set(j(),Fe(t)),la=(t,n,o)=>{if(t instanceof Map){const a=`${yn(o+1)}-${n}`;return t.size?t.has(a):!1}return typeof t=="function"?t(Ae(i.set(j(),{month:o,year:n}),!0)):!1},oa=(t,n,o)=>{if(t instanceof Map){const a=`${yn(o+1)}-${n}`;return t.size?t.has(a):!0}return!0},Cn=(t,n,o)=>typeof t=="function"?t({month:n,year:o}):!!t.months.find(a=>a.month===n&&a.year===o),Ut=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Wt=t=>`dp-${i.format(t,"yyyy-MM-dd")}`,Bn=(t,n)=>{const o=i.subDays(Ae(n),t),a=i.addDays(Ae(n),t);return{before:o,after:a}},dt=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Tn=()=>{const t=a=>{dt.menuFocused=a},n=a=>{dt.shiftKeyInMenu!==a&&(dt.shiftKeyInMenu=a)};return{control:e.computed(()=>({shiftKeyInMenu:dt.shiftKeyInMenu,menuFocused:dt.menuFocused})),setMenuFocused:t,setShiftKey:n}},ke=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),jt=e.ref(null),kt=e.ref(!1),Kt=e.ref(!1),xt=e.ref(!1),qt=e.ref(!1),Re=e.ref(0),Ce=e.ref(0),Qe=()=>{const t=e.computed(()=>kt.value?[...ke.selectionGrid,ke.actionRow].filter(b=>b.length):Kt.value?[...ke.timePicker[0],...ke.timePicker[1],qt.value?[]:[jt.value],ke.actionRow].filter(b=>b.length):xt.value?[...ke.monthPicker,ke.actionRow]:[ke.monthYear,...ke.calendar,ke.time,ke.actionRow].filter(b=>b.length)),n=b=>{Re.value=b?Re.value+1:Re.value-1;let A=null;t.value[Ce.value]&&(A=t.value[Ce.value][Re.value]),!A&&t.value[Ce.value+(b?1:-1)]?(Ce.value=Ce.value+(b?1:-1),Re.value=b?0:t.value[Ce.value].length-1):A||(Re.value=b?Re.value-1:Re.value+1)},o=b=>{if(Ce.value===0&&!b||Ce.value===t.value.length&&b)return;Ce.value=b?Ce.value+1:Ce.value-1,t.value[Ce.value]?t.value[Ce.value]&&!t.value[Ce.value][Re.value]&&Re.value!==0&&(Re.value=t.value[Ce.value].length-1):Ce.value=b?Ce.value-1:Ce.value+1},a=b=>{let A=null;t.value[Ce.value]&&(A=t.value[Ce.value][Re.value]),A?A.focus({preventScroll:!kt.value}):Re.value=b?Re.value-1:Re.value+1},r=()=>{n(!0),a(!0)},u=()=>{n(!1),a(!1)},f=()=>{o(!1),a(!0)},y=()=>{o(!0),a(!0)},d=(b,A)=>{ke[A]=b},O=(b,A)=>{ke[A]=b},m=()=>{Re.value=0,Ce.value=0};return{buildMatrix:d,buildMultiLevelMatrix:O,setTimePickerBackRef:b=>{jt.value=b},setSelectionGrid:b=>{kt.value=b,m(),b||(ke.selectionGrid=[])},setTimePicker:(b,A=!1)=>{Kt.value=b,qt.value=A,m(),b||(ke.timePicker[0]=[],ke.timePicker[1]=[])},setTimePickerElements:(b,A=0)=>{ke.timePicker[A]=b},arrowRight:r,arrowLeft:u,arrowUp:f,arrowDown:y,clearArrowNav:()=>{ke.monthYear=[],ke.calendar=[],ke.time=[],ke.actionRow=[],ke.selectionGrid=[],ke.timePicker[0]=[],ke.timePicker[1]=[],kt.value=!1,Kt.value=!1,qt.value=!1,xt.value=!1,m(),jt.value=null},setMonthPicker:b=>{xt.value=b,m()},refSets:ke}},$n=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),sa=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:n=>`Month picker${n?" overlay":""}`,yearPicker:n=>`Year picker${n?" overlay":""}`,timeOverlay:n=>`${n} overlay`,...t??{}}),An=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,ia=t=>{const n=typeof t=="object"&&t,o={static:!0,solo:!1};if(!t)return{...o,count:An(!1)};const a=n?t:{},r=n?a.count??!0:t,u=An(r);return Object.assign(o,a,{count:u})},ua=(t,n,o)=>t||(typeof o=="string"?o:n),ca=t=>typeof t=="boolean"?t?$n({}):!1:$n(t),da=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},fa=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),ma=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),pa=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},ga=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1},...t??{}}),ya=t=>{const n={dates:Array.isArray(t)?t.map(o=>j(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},ha=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},ka=t=>{const n={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...n,...t}:{enabled:t,...n}},ba=t=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:t.emitTimezone??void 0,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Gt=(t,n,o,a)=>new Map(t.map(r=>{const u=Pt(r,n,a);return[Yt(u,o),u]})),va=(t,n)=>t.length?new Map(t.map(o=>{const a=Pt(o.date,n);return[Yt(a,rt.DATE),o]})):null,wa=t=>{var o;const n=gn(t.isMonthPicker,t.isYearPicker);return{minDate:Rt(t.minDate,t.timezone,t.isSpecific),maxDate:Rt(t.maxDate,t.timezone,t.isSpecific),disabledDates:Vt(t.disabledDates)?Gt(t.disabledDates,t.timezone,n,t.isSpecific):t.disabledDates,allowedDates:Vt(t.allowedDates)?Gt(t.allowedDates,t.timezone,n,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Vt((o=t.highlight)==null?void 0:o.dates)?Gt(t.highlight.dates,t.timezone,n):t.highlight,markers:va(t.markers,t.timezone)}},Ma=t=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:null}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},Da=t=>({...Object.fromEntries(Object.keys(t).map(o=>{const a=o,r=t[a],u=typeof t[a]=="string"?{[r]:!0}:Object.fromEntries(r.map(f=>[f,!0]));return[o,u]}))}),be=t=>{const n=()=>{const H=t.enableSeconds?":ss":"",D=t.enableMinutes?":mm":"";return t.is24?`HH${D}${H}`:`hh${D}${H} aa`},o=()=>{var H;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((H=N.value)==null?void 0:H.type)==="iso"?"II":"ww"}-RR`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},a=H=>wn(H,t.enableSeconds),r=()=>K.value.enabled?t.startTime&&Array.isArray(t.startTime)?[a(t.startTime[0]),a(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?a(t.startTime):null,u=e.computed(()=>ia(t.multiCalendars)),f=e.computed(()=>r()),y=e.computed(()=>sa(t.ariaLabels)),d=e.computed(()=>fa(t.filters)),O=e.computed(()=>ca(t.transitions)),m=e.computed(()=>ma(t.actionRow)),R=e.computed(()=>ua(t.previewFormat,t.format,o())),g=e.computed(()=>da(t.textInput)),$=e.computed(()=>pa(t.inline)),z=e.computed(()=>ga(t.config)),I=e.computed(()=>ya(t.highlight)),N=e.computed(()=>ha(t.weekNumbers)),b=e.computed(()=>ba(t.timezone)),A=e.computed(()=>Ma(t.multiDates)),v=e.computed(()=>wa({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:I.value,markers:t.markers,timezone:b.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker,isMonthPicker:t.monthPicker,isYearPicker:t.yearPicker})),K=e.computed(()=>ka(t.range)),L=e.computed(()=>Da(t.ui));return{defaultedTransitions:O,defaultedMultiCalendars:u,defaultedStartTime:f,defaultedAriaLabels:y,defaultedFilters:d,defaultedActionRow:m,defaultedPreviewFormat:R,defaultedTextInput:g,defaultedInline:$,defaultedConfig:z,defaultedHighlight:I,defaultedWeekNumbers:N,defaultedRange:K,propDates:v,defaultedTz:b,defaultedMultiDates:A,defaultedUI:L,getDefaultPattern:o,getDefaultStartTime:r,handleEventPropagation:H=>{z.value.allowStopPropagation&&H.stopPropagation(),z.value.allowPreventDefault&&H.preventDefault()}}},Sa=(t,n,o)=>{const a=e.ref(),{defaultedTextInput:r,defaultedRange:u,defaultedTz:f,defaultedMultiDates:y,getDefaultPattern:d}=be(n),O=e.ref(""),m=e.toRef(n,"format"),R=e.toRef(n,"formatLocale");e.watch(a,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",a.value,B(!0))},{deep:!0}),e.watch(u,(l,M)=>{l.enabled!==M.enabled&&(a.value=null)}),e.watch(m,()=>{U()});const g=l=>f.value.timezone&&f.value.convertModel?Oe(l,f.value.timezone):l,$=l=>{if(f.value.timezone&&f.value.convertModel){const M=Un(f.value.timezone,l);return i.addHours(l,M)}return l},z=(l,M,ne=!1)=>Dn(l,n.format,n.formatLocale,r.value.rangeSeparator,n.modelAuto,M??d(),ne),I=l=>l?n.modelType?G(l):{hours:i.getHours(l),minutes:i.getMinutes(l),seconds:n.enableSeconds?i.getSeconds(l):0}:null,N=l=>n.modelType?G(l):{month:i.getMonth(l),year:i.getYear(l)},b=l=>Array.isArray(l)?y.value.enabled?l.map(M=>A(M,i.setYear(j(),M))):ht(()=>[i.setYear(j(),l[0]),l[1]?i.setYear(j(),l[1]):st(u.value.partialRange)],u.value.enabled):i.setYear(j(),+l),A=(l,M)=>(typeof l=="string"||typeof l=="number")&&n.modelType?T(l):M,v=l=>Array.isArray(l)?[A(l[0],qe(null,+l[0].hours,+l[0].minutes,l[0].seconds)),A(l[1],qe(null,+l[1].hours,+l[1].minutes,l[1].seconds))]:A(l,qe(null,l.hours,l.minutes,l.seconds)),K=l=>{const M=i.set(j(),{date:1});return Array.isArray(l)?y.value.enabled?l.map(ne=>A(ne,je(M,+ne.month,+ne.year))):ht(()=>[A(l[0],je(M,+l[0].month,+l[0].year)),A(l[1],l[1]?je(M,+l[1].month,+l[1].year):st(u.value.partialRange))],u.value.enabled):A(l,je(M,+l.month,+l.year))},L=l=>{if(Array.isArray(l))return l.map(M=>T(M));throw new Error(Nt.dateArr("multi-dates"))},Z=l=>{if(Array.isArray(l)&&u.value.enabled){const M=l[0],ne=l[1];return[j(Array.isArray(M)?M[0]:null),Array.isArray(ne)&&ne.length?j(ne[0]):null]}return j(l[0])},H=l=>n.modelAuto?Array.isArray(l)?[T(l[0]),T(l[1])]:n.autoApply?[T(l)]:[T(l),null]:Array.isArray(l)?ht(()=>l[1]?[T(l[0]),l[1]?T(l[1]):st(u.value.partialRange)]:[T(l[0])],u.value.enabled):T(l),D=()=>{Array.isArray(a.value)&&u.value.enabled&&a.value.length===1&&a.value.push(st(u.value.partialRange))},x=()=>{const l=a.value;return[G(l[0]),l[1]?G(l[1]):st(u.value.partialRange)]},E=()=>Array.isArray(a.value)?a.value[1]?x():G(Te(a.value[0])):[],q=()=>(a.value||[]).map(l=>G(l)),ie=(l=!1)=>(l||D(),n.modelAuto?E():y.value.enabled?q():Array.isArray(a.value)?ht(()=>x(),u.value.enabled):G(Te(a.value))),ce=l=>!l||Array.isArray(l)&&!l.length?null:n.timePicker?v(Te(l)):n.monthPicker?K(Te(l)):n.yearPicker?b(Te(l)):y.value.enabled?L(Te(l)):n.weekPicker?Z(Te(l)):H(Te(l)),p=l=>{const M=ce(l);It(Te(M))?(a.value=Te(M),U()):(a.value=null,O.value="")},_=()=>{const l=M=>i.format(M,r.value.format);return`${l(a.value[0])} ${r.value.rangeSeparator} ${a.value[1]?l(a.value[1]):""}`},X=()=>o.value&&a.value?Array.isArray(a.value)?_():i.format(a.value,r.value.format):z(a.value),h=()=>a.value?y.value.enabled?a.value.map(l=>z(l)).join("; "):r.value.enabled&&typeof r.value.format=="string"?X():z(a.value):"",U=()=>{!n.format||typeof n.format=="string"||r.value.enabled&&typeof r.value.format=="string"?O.value=h():O.value=n.format(a.value)},T=l=>{if(n.utc){const M=new Date(l);return n.utc==="preserve"?new Date(M.getTime()+M.getTimezoneOffset()*6e4):M}return n.modelType?Wn.includes(n.modelType)?g(new Date(l)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?g(i.parse(l,d(),new Date,{locale:R.value})):g(i.parse(l,n.modelType,new Date,{locale:R.value})):g(new Date(l))},G=l=>l?n.utc?ea(l,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+$(l):n.modelType==="iso"?$(l).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?z($(l)):z($(l),n.modelType,!0):$(l):"",C=(l,M=!1,ne=!1)=>{if(ne)return l;if(t("update:model-value",l),f.value.emitTimezone&&M){const S=Array.isArray(l)?l.map(de=>Oe(Te(de),f.value.emitTimezone)):Oe(Te(l),f.value.emitTimezone);t("update:model-timezone-value",S)}},re=l=>Array.isArray(a.value)?y.value.enabled?a.value.map(M=>l(M)):[l(a.value[0]),a.value[1]?l(a.value[1]):st(u.value.partialRange)]:l(Te(a.value)),c=()=>{if(Array.isArray(a.value)){const l=We(a.value[0],n.weekStart),M=a.value[1]?We(a.value[1],n.weekStart):[];return[l.map(ne=>j(ne)),M.map(ne=>j(ne))]}return We(a.value,n.weekStart).map(l=>j(l))},W=(l,M)=>C(Te(re(l)),!1,M),ae=l=>{const M=c();return l?M:t("update:model-value",c())},B=(l=!1)=>(l||U(),n.monthPicker?W(N,l):n.timePicker?W(I,l):n.yearPicker?W(i.getYear,l):n.weekPicker?ae(l):C(ie(l),!0,l));return{inputValue:O,internalModelValue:a,checkBeforeEmit:()=>a.value?u.value.enabled?u.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:p,formatInputValue:U,emitModelValue:B}},Ca=(t,n)=>{const{defaultedFilters:o,propDates:a}=be(t),{validateMonthYearInRange:r}=Je(t),u=(m,R)=>{let g=m;return o.value.months.includes(i.getMonth(g))?(g=R?i.addMonths(m,1):i.subMonths(m,1),u(g,R)):g},f=(m,R)=>{let g=m;return o.value.years.includes(i.getYear(g))?(g=R?i.addYears(m,1):i.subYears(m,1),f(g,R)):g},y=(m,R=!1)=>{const g=i.set(j(),{month:t.month,year:t.year});let $=m?i.addMonths(g,1):i.subMonths(g,1);t.disableYearSelect&&($=i.setYear($,t.year));let z=i.getMonth($),I=i.getYear($);o.value.months.includes(z)&&($=u($,m),z=i.getMonth($),I=i.getYear($)),o.value.years.includes(I)&&($=f($,m),I=i.getYear($)),r(z,I,m,t.preventMinMaxNavigation)&&d(z,I,R)},d=(m,R,g)=>{n("update-month-year",{month:m,year:R,fromNav:g})},O=e.computed(()=>m=>Mn(i.set(j(),{month:t.month,year:t.year}),a.value.maxDate,a.value.minDate,t.preventMinMaxNavigation,m));return{handleMonthYearChange:y,isDisabled:O,updateMonthYear:d}},bt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Le={...bt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},Ba=["title"],Ta=["disabled"],$a=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Le},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const o=n,a=t,{defaultedActionRow:r,defaultedPreviewFormat:u,defaultedMultiCalendars:f,defaultedTextInput:y,defaultedInline:d,defaultedRange:O,defaultedMultiDates:m}=be(a),{isTimeValid:R,isMonthValid:g}=Je(a),{buildMatrix:$}=Qe(),z=e.ref(null),I=e.ref(null),N=e.ref(!1),b=e.ref({}),A=e.ref(null),v=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&$([Be(z),Be(I)],"actionRow"),K(),window.addEventListener("resize",K)}),e.onUnmounted(()=>{window.removeEventListener("resize",K)});const K=()=>{N.value=!1,setTimeout(()=>{var X,h;const p=(X=A.value)==null?void 0:X.getBoundingClientRect(),_=(h=v.value)==null?void 0:h.getBoundingClientRect();p&&_&&(b.value.maxWidth=`${_.width-p.width-20}px`),N.value=!0},0)},L=e.computed(()=>O.value.enabled&&!O.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),Z=e.computed(()=>!R.value(a.internalModelValue)||!g.value(a.internalModelValue)||!L.value),H=()=>{const p=u.value;return a.timePicker||a.monthPicker,p(Te(a.internalModelValue))},D=()=>{const p=a.internalModelValue;return f.value.count>0?`${x(p[0])} - ${x(p[1])}`:[x(p[0]),x(p[1])]},x=p=>Dn(p,u.value,a.formatLocale,y.value.rangeSeparator,a.modelAuto,u.value),E=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof u.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?D():m.value.enabled?a.internalModelValue.map(p=>`${x(p)}`):a.modelAuto?`${x(a.internalModelValue[0])}`:`${x(a.internalModelValue[0])} -`:x(a.internalModelValue):H()),q=()=>m.value.enabled?"; ":" - ",ie=e.computed(()=>Array.isArray(E.value)?E.value.join(q()):E.value),ce=()=>{R.value(a.internalModelValue)&&g.value(a.internalModelValue)&&L.value?o("select-date"):o("invalid-select")};return(p,_)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:v,class:"dp__action_row"},[p.$slots["action-row"]?e.renderSlot(p.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:p.internalModelValue,disabled:Z.value,selectDate:()=>p.$emit("select-date"),closePicker:()=>p.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(r).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:ie.value,style:e.normalizeStyle(b.value)},[p.$slots["action-preview"]&&N.value?e.renderSlot(p.$slots,"action-preview",{key:0,value:p.internalModelValue}):e.createCommentVNode("",!0),!p.$slots["action-preview"]&&N.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(ie.value),1)],64)):e.createCommentVNode("",!0)],12,Ba)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:A,class:"dp__action_buttons","data-dp-element":"action-row"},[p.$slots["action-buttons"]?e.renderSlot(p.$slots,"action-buttons",{key:0,value:p.internalModelValue}):e.createCommentVNode("",!0),p.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(d).enabled&&e.unref(r).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:z,type:"button",class:"dp__action_button dp__action_cancel",onClick:_[0]||(_[0]=X=>p.$emit("close-picker")),onKeydown:_[1]||(_[1]=X=>e.unref(Ne)(X,()=>p.$emit("close-picker")))},e.toDisplayString(p.cancelText),545)):e.createCommentVNode("",!0),e.unref(r).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:_[2]||(_[2]=X=>p.$emit("select-now")),onKeydown:_[3]||(_[3]=X=>e.unref(Ne)(X,()=>p.$emit("select-now")))},e.toDisplayString(p.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(r).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:I,type:"button",class:"dp__action_button dp__action_select",disabled:Z.value,"data-test-id":"select-button",onKeydown:_[4]||(_[4]=X=>e.unref(Ne)(X,()=>ce())),onClick:ce},e.toDisplayString(p.selectText),41,Ta)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),Aa=["role","aria-label","tabindex"],Pa={class:"dp__selection_grid_header"},Ra=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],Ea=["aria-label"],ft=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:o}){const{setSelectionGrid:a,buildMultiLevelMatrix:r,setMonthPicker:u}=Qe(),f=o,y=t,{defaultedAriaLabels:d,defaultedTextInput:O,defaultedConfig:m,handleEventPropagation:R}=be(y),{hideNavigationButtons:g}=Mt(),$=e.ref(!1),z=e.ref(null),I=e.ref(null),N=e.ref([]),b=e.ref(),A=e.ref(null),v=e.ref(0),K=e.ref(null);e.onBeforeUpdate(()=>{z.value=null}),e.onMounted(()=>{e.nextTick().then(()=>ie()),y.noOverlayFocus||Z(),L(!0)}),e.onUnmounted(()=>L(!1));const L=c=>{var W;y.arrowNavigation&&((W=y.headerRefs)!=null&&W.length?u(c):a(c))},Z=()=>{var W;const c=Be(I);c&&(O.value.enabled||(z.value?(W=z.value)==null||W.focus({preventScroll:!0}):c.focus({preventScroll:!0})),$.value=c.clientHeight<c.scrollHeight)},H=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!y.useRelative,"dp--overlay-relative":y.useRelative})),D=e.computed(()=>y.useRelative?{height:`${y.height}px`,width:"var(--dp-menu-min-width)"}:void 0),x=e.computed(()=>({dp__overlay_col:!0})),E=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:$.value,dp__button_bottom:y.isLast})),q=e.computed(()=>{var c,W;return{dp__overlay_container:!0,dp__container_flex:((c=y.items)==null?void 0:c.length)<=6,dp__container_block:((W=y.items)==null?void 0:W.length)>6}});e.watch(()=>y.items,()=>ie(!1),{deep:!0});const ie=(c=!0)=>{e.nextTick().then(()=>{const W=Be(z),ae=Be(I),B=Be(A),te=Be(K),l=B?B.getBoundingClientRect().height:0;ae&&(ae.getBoundingClientRect().height?v.value=ae.getBoundingClientRect().height-l:v.value=m.value.modeHeight-l),W&&te&&c&&(te.scrollTop=W.offsetTop-te.offsetTop-(v.value/2-W.getBoundingClientRect().height)-l)})},ce=c=>{c.disabled||f("selected",c.value)},p=()=>{f("toggle"),f("reset-flow")},_=c=>{y.escClose&&(p(),R(c))},X=(c,W,ae,B)=>{c&&((W.active||W.value===y.focusValue)&&(z.value=c),y.arrowNavigation&&(Array.isArray(N.value[ae])?N.value[ae][B]=c:N.value[ae]=[c],h()))},h=()=>{var W,ae;const c=(W=y.headerRefs)!=null&&W.length?[y.headerRefs].concat(N.value):N.value.concat([y.skipButtonRef?[]:[A.value]]);r(Te(c),(ae=y.headerRefs)!=null&&ae.length?"monthPicker":"selectionGrid")},U=c=>{y.arrowNavigation||xe(c,m.value,!0)},T=c=>{b.value=c,f("hover-value",c)},G=()=>{if(p(),!y.isLast){const c=Ot(y.menuWrapRef??null,"action-row");if(c){const W=mn(c);W==null||W.focus()}}},C=c=>{switch(c.key){case he.esc:return _(c);case he.arrowLeft:return U(c);case he.arrowRight:return U(c);case he.arrowUp:return U(c);case he.arrowDown:return U(c);default:return}},re=c=>{if(c.key===he.enter)return p();if(c.key===he.tab)return G()};return n({focusGrid:Z}),(c,W)=>{var ae;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:I,class:e.normalizeClass(H.value),style:e.normalizeStyle(D.value),role:c.useRelative?void 0:"dialog","aria-label":c.overlayLabel,tabindex:c.useRelative?void 0:"0",onKeydown:C,onClick:W[0]||(W[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",{ref_key:"containerRef",ref:K,class:e.normalizeClass(q.value),style:e.normalizeStyle({"--dp-overlay-height":`${v.value}px`}),role:"grid"},[e.createElementVNode("div",Pa,[e.renderSlot(c.$slots,"header")]),c.$slots.overlay?e.renderSlot(c.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(c.items,(B,te)=>(e.openBlock(),e.createElementBlock("div",{key:te,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:c.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B,(l,M)=>(e.openBlock(),e.createElementBlock("div",{key:l.value,ref_for:!0,ref:ne=>X(ne,l,te,M),role:"gridcell",class:e.normalizeClass(x.value),"aria-selected":l.active||void 0,"aria-disabled":l.disabled||void 0,tabindex:"0","data-test-id":l.text,onClick:e.withModifiers(ne=>ce(l),["prevent"]),onKeydown:ne=>e.unref(Ne)(ne,()=>ce(l),!0),onMouseover:ne=>T(l.value)},[e.createElementVNode("div",{class:e.normalizeClass(l.className)},[c.$slots.item?e.renderSlot(c.$slots,"item",{key:0,item:l}):e.createCommentVNode("",!0),c.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l.text),1)],64))],2)],42,Ra))),128))],2))),128))],6),c.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:A,type:"button","aria-label":(ae=e.unref(d))==null?void 0:ae.toggleOverlay,class:e.normalizeClass(E.value),tabindex:"0",onClick:p,onKeydown:re},[e.renderSlot(c.$slots,"button-icon")],42,Ea)),[[e.vShow,!e.unref(g)(c.hideNavigation,c.type)]]):e.createCommentVNode("",!0)],46,Aa)}}}),Na=["data-dp-mobile"],vt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(t){const n=t,o=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),a=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(r,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse}),"data-dp-mobile":r.isMobile},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(f,y)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:e.normalizeClass(a.value)},[e.renderSlot(r.$slots,"default",{instance:f,index:y})],2))),128))],10,Na))}}),Oa=["data-dp-element","aria-label","aria-disabled"],mt=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const o=n,a=e.ref(null);return e.onMounted(()=>o("set-ref",a)),(r,u)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":r.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:u[0]||(u[0]=f=>r.$emit("activate")),onKeydown:u[1]||(u[1]=f=>e.unref(Ne)(f,()=>r.$emit("activate"),!0))},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[e.renderSlot(r.$slots,"default")],2)],40,Oa))}}),Ya=["aria-label","data-test-id"],Pn=e.defineComponent({__name:"YearModePicker",props:{...Le,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const o=n,a=t,{showRightIcon:r,showLeftIcon:u}=Mt(),{defaultedConfig:f,defaultedMultiCalendars:y,defaultedAriaLabels:d,defaultedTransitions:O,defaultedUI:m}=be(a),{showTransition:R,transitionName:g}=pt(O),$=e.ref(!1),z=(b=!1,A)=>{$.value=!$.value,o("toggle-year-picker",{flow:b,show:A})},I=b=>{$.value=!1,o("year-select",b)},N=(b=!1)=>{o("handle-year",b)};return(b,A)=>{var v,K,L,Z,H;return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:e.normalizeClass(["dp--year-mode-picker",{"dp--hidden-el":$.value}])},[e.unref(u)(e.unref(y),t.instance)?(e.openBlock(),e.createBlock(mt,{key:0,ref:"mpPrevIconRef","aria-label":(v=e.unref(d))==null?void 0:v.prevYear,disabled:t.isDisabled(!1),class:e.normalizeClass((K=e.unref(m))==null?void 0:K.navBtnPrev),onActivate:A[0]||(A[0]=D=>N(!1))},{default:e.withCtx(()=>[b.$slots["arrow-left"]?e.renderSlot(b.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),b.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${t.year}-${(L=e.unref(d))==null?void 0:L.openYearsOverlay}`,"data-test-id":`year-mode-btn-${t.instance}`,onClick:A[1]||(A[1]=()=>z(!1)),onKeydown:A[2]||(A[2]=e.withKeys(()=>z(!1),["enter"]))},[b.$slots.year?e.renderSlot(b.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),b.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ya),e.unref(r)(e.unref(y),t.instance)?(e.openBlock(),e.createBlock(mt,{key:1,ref:"mpNextIconRef","aria-label":(Z=e.unref(d))==null?void 0:Z.nextYear,disabled:t.isDisabled(!0),class:e.normalizeClass((H=e.unref(m))==null?void 0:H.navBtnNext),onActivate:A[3]||(A[3]=D=>N(!0))},{default:e.withCtx(()=>[b.$slots["arrow-right"]?e.renderSlot(b.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),b.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0)],2),e.createVNode(e.Transition,{name:e.unref(g)(t.showYearPicker),css:e.unref(R)},{default:e.withCtx(()=>{var D,x;return[t.showYearPicker?(e.openBlock(),e.createBlock(ft,{key:0,items:t.items,"text-input":b.textInput,"esc-close":b.escClose,config:b.config,"is-last":b.autoApply&&!e.unref(f).keepActionRow,"hide-navigation":b.hideNavigation,"aria-labels":b.ariaLabels,"overlay-label":(x=(D=e.unref(d))==null?void 0:D.yearPicker)==null?void 0:x.call(D,!0),type:"year",onToggle:z,onSelected:A[4]||(A[4]=E=>I(E))},e.createSlots({"button-icon":e.withCtx(()=>[b.$slots["calendar-icon"]?e.renderSlot(b.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),b.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(at),{key:1}))]),_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:E})=>[e.renderSlot(b.$slots,"year-overlay-value",{text:E.text,value:E.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64)}}}),Qt=(t,n,o)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(a=>ge(t,a))){const a=n.value.filter(r=>!ge(r,t));n.value=a.length?a:null}else(o&&+o>n.value.length||!o)&&n.value.push(t);else n.value=[t]},Xt=(t,n,o)=>{let a=t.value?t.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?(Me(n,a[0])?a.unshift(n):a[1]=n,o("range-end",n)):(a=[n],o("range-start",n)),a},wt=(t,n,o,a)=>{t&&(t[0]&&t[1]&&o&&n("auto-apply"),t[0]&&!t[1]&&a&&o&&n("auto-apply"))},Rn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Oe(j(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Oe(j(t.value),t.timezone))},En=(t,n,o,a)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(Se(t,n.value[0])||ge(t,n.value[0]))?[n.value[0],t]:a.value.fixedEnd&&(Me(t,n.value[1])||ge(t,n.value[1]))?[t,n.value[1]]:(o("invalid-fixed-range",t),n.value):[],Nn=({multiCalendars:t,range:n,highlight:o,propDates:a,calendars:r,modelValue:u,props:f,filters:y,year:d,month:O,emit:m})=>{const R=e.computed(()=>Et(f.yearRange,f.locale,f.reverseYears)),g=e.ref([!1]),$=e.computed(()=>(E,q)=>{const ie=i.set(ze(new Date),{month:O.value(E),year:d.value(E)}),ce=q?i.endOfYear(ie):i.startOfYear(ie);return Mn(ce,a.value.maxDate,a.value.minDate,f.preventMinMaxNavigation,q)}),z=()=>Array.isArray(u.value)&&t.value.solo&&u.value[1],I=()=>{for(let E=0;E<t.value.count;E++)if(E===0)r.value[E]=r.value[0];else if(E===t.value.count-1&&z())r.value[E]={month:i.getMonth(u.value[1]),year:i.getYear(u.value[1])};else{const q=i.set(j(),r.value[E-1]);r.value[E]={month:i.getMonth(q),year:i.getYear(i.addYears(q,1))}}},N=E=>{if(!E)return I();const q=i.set(j(),r.value[E]);return r.value[0].year=i.getYear(i.subYears(q,t.value.count-1)),I()},b=(E,q)=>{const ie=i.differenceInYears(q,E);return n.value.showLastInRange&&ie>1?q:E},A=E=>f.focusStartDate||t.value.solo?E[0]:E[1]?b(E[0],E[1]):E[0],v=()=>{if(u.value){const E=Array.isArray(u.value)?A(u.value):u.value;r.value[0]={month:i.getMonth(E),year:i.getYear(E)}}},K=()=>{v(),t.value.count&&I()};e.watch(u,(E,q)=>{f.isTextInputDate&&JSON.stringify(E??{})!==JSON.stringify(q??{})&&K()}),e.onMounted(()=>{K()});const L=(E,q)=>{r.value[q].year=E,m("update-month-year",{instance:q,year:E,month:r.value[q].month}),t.value.count&&!t.value.solo&&N(q)},Z=e.computed(()=>E=>lt(R.value,q=>{var _;const ie=d.value(E)===q.value,ce=ut(q.value,ot(a.value.minDate),ot(a.value.maxDate))||((_=y.value.years)==null?void 0:_.includes(d.value(E))),p=Ut(o.value,q.value);return{active:ie,disabled:ce,highlighted:p}})),H=(E,q)=>{L(E,q),x(q)},D=(E,q=!1)=>{if(!$.value(E,q)){const ie=q?d.value(E)+1:d.value(E)-1;L(ie,E)}},x=(E,q=!1,ie)=>{q||m("reset-flow"),ie!==void 0?g.value[E]=ie:g.value[E]=!g.value[E],g.value[E]?m("overlay-toggle",{open:!0,overlay:Pe.year}):(m("overlay-closed"),m("overlay-toggle",{open:!1,overlay:Pe.year}))};return{isDisabled:$,groupedYears:Z,showYearPicker:g,selectYear:L,toggleYearPicker:x,handleYearSelect:H,handleYear:D}},Va=(t,n)=>{const{defaultedMultiCalendars:o,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:u,defaultedRange:f,defaultedHighlight:y,propDates:d,defaultedTz:O,defaultedFilters:m,defaultedMultiDates:R}=be(t),g=()=>{t.isTextInputDate&&K(i.getYear(j(t.startDate)),0)},{modelValue:$,year:z,month:I,calendars:N}=gt(t,n,g),b=e.computed(()=>un(t.formatLocale,t.locale,t.monthNameFormat)),A=e.ref(null),{checkMinMaxRange:v}=Je(t),{selectYear:K,groupedYears:L,showYearPicker:Z,toggleYearPicker:H,handleYearSelect:D,handleYear:x,isDisabled:E}=Nn({modelValue:$,multiCalendars:o,range:f,highlight:y,calendars:N,year:z,propDates:d,month:I,filters:m,props:t,emit:n});e.onMounted(()=>{t.startDate&&($.value&&t.focusStartDate||!$.value)&&K(i.getYear(j(t.startDate)),0)});const q=B=>B?{month:i.getMonth(B),year:i.getYear(B)}:{month:null,year:null},ie=()=>$.value?Array.isArray($.value)?$.value.map(B=>q(B)):q($.value):q(),ce=(B,te)=>{const l=N.value[B],M=ie();return Array.isArray(M)?M.some(ne=>ne.year===(l==null?void 0:l.year)&&ne.month===te):(l==null?void 0:l.year)===M.year&&te===M.month},p=(B,te,l)=>{var ne,S;const M=ie();return Array.isArray(M)?z.value(te)===((ne=M[l])==null?void 0:ne.year)&&B===((S=M[l])==null?void 0:S.month):!1},_=(B,te)=>{if(f.value.enabled){const l=ie();if(Array.isArray($.value)&&Array.isArray(l)){const M=p(B,te,0)||p(B,te,1),ne=je(ze(j()),B,z.value(te));return ct($.value,A.value,ne)&&!M}return!1}return!1},X=e.computed(()=>B=>lt(b.value,te=>{var de;const l=ce(B,te.value),M=ut(te.value,kn(z.value(B),d.value.minDate),bn(z.value(B),d.value.maxDate))||la(d.value.disabledDates,z.value(B),te.value)||((de=m.value.months)==null?void 0:de.includes(te.value))||!oa(d.value.allowedDates,z.value(B),te.value),ne=_(te.value,B),S=Cn(y.value,te.value,z.value(B));return{active:l,disabled:M,isBetween:ne,highlighted:S}})),h=(B,te)=>je(ze(j()),B,z.value(te)),U=(B,te)=>{const l=$.value?$.value:ze(new Date);$.value=je(l,B,z.value(te)),n("auto-apply"),n("update-flow-step")},T=(B,te)=>{const l=h(B,te);f.value.fixedEnd||f.value.fixedStart?$.value=En(l,$,n,f):$.value?v(l,$.value)&&($.value=Xt($,h(B,te),n)):$.value=[h(B,te)],e.nextTick().then(()=>{wt($.value,n,t.autoApply,t.modelAuto)})},G=(B,te)=>{Qt(h(B,te),$,R.value.limit),n("auto-apply",!0)},C=(B,te)=>(N.value[te].month=B,c(te,N.value[te].year,B),R.value.enabled?G(B,te):f.value.enabled?T(B,te):U(B,te)),re=(B,te)=>{K(B,te),c(te,B,null)},c=(B,te,l)=>{let M=l;if(!M&&M!==0){const ne=ie();M=Array.isArray(ne)?ne[B].month:ne.month}n("update-month-year",{instance:B,year:te,month:M})};return{groupedMonths:X,groupedYears:L,year:z,isDisabled:E,defaultedMultiCalendars:o,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:u,showYearPicker:Z,modelValue:$,presetDate:(B,te)=>{Rn({value:B,modelValue:$,range:f.value.enabled,timezone:te?void 0:O.value.timezone}),n("auto-apply")},setHoverDate:(B,te)=>{A.value=h(B,te)},selectMonth:C,selectYear:re,toggleYearPicker:H,handleYearSelect:D,handleYear:x,getModelMonthYear:ie}},_a=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Le},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:n,emit:o}){const a=o,r=e.useSlots(),u=Ye(r,"yearMode"),f=t;e.onMounted(()=>{f.shadow||a("mount",null)});const{groupedMonths:y,groupedYears:d,year:O,isDisabled:m,defaultedMultiCalendars:R,defaultedConfig:g,showYearPicker:$,modelValue:z,presetDate:I,setHoverDate:N,selectMonth:b,selectYear:A,toggleYearPicker:v,handleYearSelect:K,handleYear:L,getModelMonthYear:Z}=Va(f,a);return n({getSidebarProps:()=>({modelValue:z,year:O,getModelMonthYear:Z,selectMonth:b,selectYear:A,handleYear:L}),presetDate:I,toggleYearPicker:D=>v(0,D)}),(D,x)=>(e.openBlock(),e.createBlock(vt,{"multi-calendars":e.unref(R).count,collapse:D.collapse,stretch:"","is-mobile":D.isMobile},{default:e.withCtx(({instance:E})=>[D.$slots["top-extra"]?e.renderSlot(D.$slots,"top-extra",{key:0,value:D.internalModelValue}):e.createCommentVNode("",!0),D.$slots["month-year"]?e.renderSlot(D.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(O),months:e.unref(y)(E),years:e.unref(d)(E),selectMonth:e.unref(b),selectYear:e.unref(A),instance:E}))):(e.openBlock(),e.createBlock(ft,{key:2,items:e.unref(y)(E),"arrow-navigation":D.arrowNavigation,"is-last":D.autoApply&&!e.unref(g).keepActionRow,"esc-close":D.escClose,height:e.unref(g).modeHeight,config:D.config,"no-overlay-focus":!!(D.noOverlayFocus||D.textInput),"use-relative":"",type:"month",onSelected:q=>e.unref(b)(q,E),onHoverValue:q=>e.unref(N)(q,E)},e.createSlots({header:e.withCtx(()=>[e.createVNode(Pn,e.mergeProps(D.$props,{items:e.unref(d)(E),instance:E,"show-year-picker":e.unref($)[E],year:e.unref(O)(E),"is-disabled":q=>e.unref(m)(E,q),onHandleYear:q=>e.unref(L)(E,q),onYearSelect:q=>e.unref(K)(q,E),onToggleYearPicker:q=>e.unref(v)(E,q==null?void 0:q.flow,q==null?void 0:q.show)}),e.createSlots({_:2},[e.renderList(e.unref(u),(q,ie)=>({name:q,fn:e.withCtx(ce=>[e.renderSlot(D.$slots,q,e.normalizeProps(e.guardReactiveProps(ce)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[D.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:q})=>[e.renderSlot(D.$slots,"month-overlay-value",{text:q.text,value:q.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Ia=(t,n)=>{const o=()=>{t.isTextInputDate&&(m.value=i.getYear(j(t.startDate)))},{modelValue:a}=gt(t,n,o),r=e.ref(null),{defaultedHighlight:u,defaultedMultiDates:f,defaultedFilters:y,defaultedRange:d,propDates:O}=be(t),m=e.ref();e.onMounted(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&(m.value=i.getYear(j(t.startDate)))});const R=v=>Array.isArray(a.value)?a.value.some(K=>i.getYear(K)===v):a.value?i.getYear(a.value)===v:!1,g=v=>d.value.enabled&&Array.isArray(a.value)?ct(a.value,r.value,N(v)):!1,$=v=>O.value.allowedDates instanceof Map?O.value.allowedDates.size?O.value.allowedDates.has(`${v}`):!1:!0,z=v=>O.value.disabledDates instanceof Map?O.value.disabledDates.size?O.value.disabledDates.has(`${v}`):!1:!0,I=e.computed(()=>lt(Et(t.yearRange,t.locale,t.reverseYears),v=>{const K=R(v.value),L=ut(v.value,ot(O.value.minDate),ot(O.value.maxDate))||y.value.years.includes(v.value)||!$(v.value)||z(v.value),Z=g(v.value)&&!K,H=Ut(u.value,v.value);return{active:K,disabled:L,isBetween:Z,highlighted:H}})),N=v=>i.setYear(ze(i.startOfYear(new Date)),v);return{groupedYears:I,modelValue:a,focusYear:m,setHoverValue:v=>{r.value=i.setYear(ze(new Date),v)},selectYear:v=>{var K;if(n("update-month-year",{instance:0,year:v}),f.value.enabled)return a.value?Array.isArray(a.value)&&(((K=a.value)==null?void 0:K.map(Z=>i.getYear(Z))).includes(v)?a.value=a.value.filter(Z=>i.getYear(Z)!==v):a.value.push(i.setYear(Ae(j()),v))):a.value=[i.setYear(Ae(i.startOfYear(j())),v)],n("auto-apply",!0);d.value.enabled?(a.value=Xt(a,N(v),n),e.nextTick().then(()=>{wt(a.value,n,t.autoApply,t.modelAuto)})):(a.value=N(v),n("auto-apply"))}}},za=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Le},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:o}){const a=o,r=t,{groupedYears:u,modelValue:f,focusYear:y,selectYear:d,setHoverValue:O}=Ia(r,a),{defaultedConfig:m}=be(r);return n({getSidebarProps:()=>({modelValue:f,selectYear:d})}),(g,$)=>(e.openBlock(),e.createElementBlock("div",null,[g.$slots["top-extra"]?e.renderSlot(g.$slots,"top-extra",{key:0,value:g.internalModelValue}):e.createCommentVNode("",!0),g.$slots["month-year"]?e.renderSlot(g.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(u),selectYear:e.unref(d)}))):(e.openBlock(),e.createBlock(ft,{key:2,items:e.unref(u),"is-last":g.autoApply&&!e.unref(m).keepActionRow,height:e.unref(m).modeHeight,config:g.config,"no-overlay-focus":!!(g.noOverlayFocus||g.textInput),"focus-value":e.unref(y),type:"year","use-relative":"",onSelected:e.unref(d),onHoverValue:e.unref(O)},e.createSlots({_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:z})=>[e.renderSlot(g.$slots,"year-overlay-value",{text:z.text,value:z.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),La={key:0,class:"dp__time_input"},Ha=["data-compact","data-collapsed"],Ua=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],Wa=["aria-label","disabled","data-test-id","onKeydown","onClick"],ja=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],Ka={key:0},xa=["aria-label","data-compact"],qa=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Le},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:n,emit:o}){const a=o,r=t,{setTimePickerElements:u,setTimePickerBackRef:f}=Qe(),{defaultedAriaLabels:y,defaultedTransitions:d,defaultedFilters:O,defaultedConfig:m,defaultedRange:R,defaultedMultiCalendars:g}=be(r),{transitionName:$,showTransition:z}=pt(d),I=e.reactive({hours:!1,minutes:!1,seconds:!1}),N=e.ref("AM"),b=e.ref(null),A=e.ref([]),v=e.ref(),K=e.ref(!1);e.onMounted(()=>{a("mounted")});const L=s=>i.set(new Date,{hours:s.hours,minutes:s.minutes,seconds:r.enableSeconds?s.seconds:0,milliseconds:0}),Z=e.computed(()=>s=>T(s,r[s])||D(s,r[s])),H=e.computed(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),D=(s,V)=>R.value.enabled&&!R.value.disableTimeRangeValidation?!r.validateTime(s,V):!1,x=(s,V)=>{if(R.value.enabled&&!R.value.disableTimeRangeValidation){const se=V?+r[`${s}Increment`]:-+r[`${s}Increment`],Y=r[s]+se;return!r.validateTime(s,Y)}return!1},E=e.computed(()=>s=>!W(+r[s]+ +r[`${s}Increment`],s)||x(s,!0)),q=e.computed(()=>s=>!W(+r[s]-+r[`${s}Increment`],s)||x(s,!1)),ie=(s,V)=>i.add(i.set(j(),s),V),ce=(s,V)=>i.sub(i.set(j(),s),V),p=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),_=e.computed(()=>r.timePickerInline&&R.value.enabled&&!g.value.count),X=e.computed(()=>{const s=[{type:"hours"}];return r.enableMinutes&&s.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&s.push({type:"",separator:!0},{type:"seconds"}),s}),h=e.computed(()=>X.value.filter(s=>!s.separator)),U=e.computed(()=>s=>{if(s==="hours"){const V=ne(+r.hours);return{text:V<10?`0${V}`:`${V}`,value:V}}return{text:r[s]<10?`0${r[s]}`:`${r[s]}`,value:r[s]}}),T=(s,V)=>{var Y;if(!r.disabledTimesConfig)return!1;const se=r.disabledTimesConfig(r.order,s==="hours"?V:void 0);return se[s]?!!((Y=se[s])!=null&&Y.includes(V)):!0},G=(s,V)=>V!=="hours"||N.value==="AM"?s:s+12,C=s=>{const V=r.is24?24:12,se=s==="hours"?V:60,Y=+r[`${s}GridIncrement`],pe=s==="hours"&&!r.is24?Y:0,fe=[];for(let ye=pe;ye<se;ye+=Y)fe.push({value:r.is24?ye:G(ye,s),text:ye<10?`0${ye}`:`${ye}`});return s==="hours"&&!r.is24&&fe.unshift({value:N.value==="PM"?12:0,text:"12"}),lt(fe,ye=>({active:!1,disabled:O.value.times[s].includes(ye.value)||!W(ye.value,s)||T(s,ye.value)||D(s,ye.value)}))},re=s=>s>=0?s:59,c=s=>s>=0?s:23,W=(s,V)=>{const se=r.minTime?L(_t(r.minTime)):null,Y=r.maxTime?L(_t(r.maxTime)):null,pe=L(_t(H.value,V,V==="minutes"||V==="seconds"?re(s):c(s)));return se&&Y?(i.isBefore(pe,Y)||i.isEqual(pe,Y))&&(i.isAfter(pe,se)||i.isEqual(pe,se)):se?i.isAfter(pe,se)||i.isEqual(pe,se):Y?i.isBefore(pe,Y)||i.isEqual(pe,Y):!0},ae=s=>r[`no${s[0].toUpperCase()+s.slice(1)}Overlay`],B=s=>{ae(s)||(I[s]=!I[s],I[s]?(K.value=!0,a("overlay-opened",s)):(K.value=!1,a("overlay-closed",s)))},te=s=>s==="hours"?i.getHours:s==="minutes"?i.getMinutes:i.getSeconds,l=()=>{v.value&&clearTimeout(v.value)},M=(s,V=!0,se)=>{const Y=V?ie:ce,pe=V?+r[`${s}Increment`]:-+r[`${s}Increment`];W(+r[s]+pe,s)&&a(`update:${s}`,te(s)(Y({[s]:+r[s]},{[s]:+r[`${s}Increment`]}))),!(se!=null&&se.keyboard)&&m.value.timeArrowHoldThreshold&&(v.value=setTimeout(()=>{M(s,V)},m.value.timeArrowHoldThreshold))},ne=s=>r.is24?s:(s>=12?N.value="PM":N.value="AM",xn(s)),S=()=>{N.value==="PM"?(N.value="AM",a("update:hours",r.hours-12)):(N.value="PM",a("update:hours",r.hours+12)),a("am-pm-change",N.value)},de=s=>{I[s]=!0},me=(s,V,se)=>{if(s&&r.arrowNavigation){Array.isArray(A.value[V])?A.value[V][se]=s:A.value[V]=[s];const Y=A.value.reduce((pe,fe)=>fe.map((ye,De)=>[...pe[De]||[],fe[De]]),[]);f(r.closeTimePickerBtn),b.value&&(Y[1]=Y[1].concat(b.value)),u(Y,r.order)}},ee=(s,V)=>(B(s),a(`update:${s}`,V));return n({openChildCmp:de}),(s,V)=>{var se;return s.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",La,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(X.value,(Y,pe)=>{var fe,ye,De;return e.openBlock(),e.createElementBlock("div",{key:pe,class:e.normalizeClass(p.value),"data-compact":_.value&&!s.enableSeconds,"data-collapsed":_.value&&s.enableSeconds},[Y.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[K.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(":")],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:ve=>me(ve,pe,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!s.timePickerInline,dp__inc_dec_button_inline:s.timePickerInline,dp__tp_inline_btn_top:s.timePickerInline,dp__inc_dec_button_disabled:E.value(Y.type),"dp--hidden-el":K.value}),"data-test-id":`${Y.type}-time-inc-btn-${r.order}`,"aria-label":(fe=e.unref(y))==null?void 0:fe.incrementValue(Y.type),tabindex:"0",onKeydown:ve=>e.unref(Ne)(ve,()=>M(Y.type,!0,{keyboard:!0}),!0),onClick:ve=>e.unref(m).timeArrowHoldThreshold?void 0:M(Y.type,!0),onMousedown:ve=>e.unref(m).timeArrowHoldThreshold?M(Y.type,!0):void 0,onMouseup:l},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[s.$slots["tp-inline-arrow-up"]?e.renderSlot(s.$slots,"tp-inline-arrow-up",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[V[2]||(V[2]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),V[3]||(V[3]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[s.$slots["arrow-up"]?e.renderSlot(s.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),s.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],64))],42,Ua),e.createElementVNode("button",{ref_for:!0,ref:ve=>me(ve,pe,1),type:"button","aria-label":`${U.value(Y.type).text}-${(ye=e.unref(y))==null?void 0:ye.openTpOverlay(Y.type)}`,class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!s.timePickerInline,dp__time_display_inline:s.timePickerInline,"dp--time-invalid":Z.value(Y.type),"dp--time-overlay-btn":!Z.value(Y.type),"dp--hidden-el":K.value}),disabled:ae(Y.type),tabindex:"0","data-test-id":`${Y.type}-toggle-overlay-btn-${r.order}`,onKeydown:ve=>e.unref(Ne)(ve,()=>B(Y.type),!0),onClick:ve=>B(Y.type)},[s.$slots[Y.type]?e.renderSlot(s.$slots,Y.type,{key:0,text:U.value(Y.type).text,value:U.value(Y.type).value}):e.createCommentVNode("",!0),s.$slots[Y.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(U.value(Y.type).text),1)],64))],42,Wa),e.createElementVNode("button",{ref_for:!0,ref:ve=>me(ve,pe,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!s.timePickerInline,dp__inc_dec_button_inline:s.timePickerInline,dp__tp_inline_btn_bottom:s.timePickerInline,dp__inc_dec_button_disabled:q.value(Y.type),"dp--hidden-el":K.value}),"data-test-id":`${Y.type}-time-dec-btn-${r.order}`,"aria-label":(De=e.unref(y))==null?void 0:De.decrementValue(Y.type),tabindex:"0",onKeydown:ve=>e.unref(Ne)(ve,()=>M(Y.type,!1,{keyboard:!0}),!0),onClick:ve=>e.unref(m).timeArrowHoldThreshold?void 0:M(Y.type,!1),onMousedown:ve=>e.unref(m).timeArrowHoldThreshold?M(Y.type,!1):void 0,onMouseup:l},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[s.$slots["tp-inline-arrow-down"]?e.renderSlot(s.$slots,"tp-inline-arrow-down",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[V[4]||(V[4]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),V[5]||(V[5]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[s.$slots["arrow-down"]?e.renderSlot(s.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),s.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(At),{key:1}))],64))],42,ja)],64))],10,Ha)}),128)),s.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ka,[s.$slots["am-pm-button"]?e.renderSlot(s.$slots,"am-pm-button",{key:0,toggle:S,value:N.value}):e.createCommentVNode("",!0),s.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:b,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(se=e.unref(y))==null?void 0:se.amPmButton,tabindex:"0","data-compact":_.value,onClick:S,onKeydown:V[0]||(V[0]=Y=>e.unref(Ne)(Y,()=>S(),!0))},e.toDisplayString(N.value),41,xa))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(Y,pe)=>(e.openBlock(),e.createBlock(e.Transition,{key:pe,name:e.unref($)(I[Y.type]),css:e.unref(z)},{default:e.withCtx(()=>{var fe,ye;return[I[Y.type]?(e.openBlock(),e.createBlock(ft,{key:0,items:C(Y.type),"is-last":s.autoApply&&!e.unref(m).keepActionRow,"esc-close":s.escClose,type:Y.type,"text-input":s.textInput,config:s.config,"arrow-navigation":s.arrowNavigation,"aria-labels":s.ariaLabels,"overlay-label":(ye=(fe=e.unref(y)).timeOverlay)==null?void 0:ye.call(fe,Y.type),onSelected:De=>ee(Y.type,De),onToggle:De=>B(Y.type),onResetFlow:V[1]||(V[1]=De=>s.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[s.$slots["clock-icon"]?e.renderSlot(s.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),s.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(s.timePickerInline?e.unref(at):e.unref(Tt)),{key:1}))]),_:2},[s.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:De})=>[e.renderSlot(s.$slots,`${Y.type}-overlay-value`,{text:De.text,value:De.value})]),key:"0"}:void 0,s.$slots[`${Y.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(s.$slots,`${Y.type}-overlay-header`,{toggle:()=>B(Y.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),Ga=["data-dp-mobile"],Qa=["aria-label","tabindex"],Xa=["role","aria-label","tabindex"],Ja=["aria-label"],On=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Le},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const a=o,r=t,{buildMatrix:u,setTimePicker:f}=Qe(),y=e.useSlots(),{defaultedTransitions:d,defaultedAriaLabels:O,defaultedTextInput:m,defaultedConfig:R,defaultedRange:g}=be(r),{transitionName:$,showTransition:z}=pt(d),{hideNavigationButtons:I}=Mt(),N=e.ref(null),b=e.ref(null),A=e.ref([]),v=e.ref(null),K=e.ref(!1);e.onMounted(()=>{a("mount"),!r.timePicker&&r.arrowNavigation?u([Be(N.value)],"time"):f(!0,r.timePicker)});const L=e.computed(()=>g.value.enabled&&r.modelAuto?cn(r.internalModelValue):!0),Z=e.ref(!1),H=T=>({hours:Array.isArray(r.hours)?r.hours[T]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[T]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[T]:r.seconds}),D=e.computed(()=>{const T=[];if(g.value.enabled)for(let G=0;G<2;G++)T.push(H(G));else T.push(H(0));return T}),x=(T,G=!1,C="")=>{G||a("reset-flow"),Z.value=T,a(T?"overlay-opened":"overlay-closed",Pe.time),r.arrowNavigation&&f(T),e.nextTick(()=>{C!==""&&A.value[0]&&A.value[0].openChildCmp(C)})},E=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!R.value.keepActionRow})),q=Ye(y,"timePicker"),ie=(T,G,C)=>g.value.enabled?G===0?[T,D.value[1][C]]:[D.value[0][C],T]:T,ce=T=>{a("update:hours",T)},p=T=>{a("update:minutes",T)},_=T=>{a("update:seconds",T)},X=()=>{if(v.value&&!m.value.enabled&&!r.noOverlayFocus){const T=mn(v.value);T&&T.focus({preventScroll:!0})}},h=T=>{K.value=!1,a("overlay-closed",T)},U=T=>{K.value=!0,a("overlay-opened",T)};return n({toggleTimePicker:x}),(T,G)=>{var C;return e.openBlock(),e.createElementBlock("div",{class:"dp--tp-wrap","data-dp-mobile":T.isMobile},[!T.timePicker&&!T.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:N,type:"button",class:e.normalizeClass({...E.value,"dp--hidden-el":Z.value}),"aria-label":(C=e.unref(O))==null?void 0:C.openTimePicker,tabindex:T.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:G[0]||(G[0]=re=>e.unref(Ne)(re,()=>x(!0))),onClick:G[1]||(G[1]=re=>x(!0))},[T.$slots["clock-icon"]?e.renderSlot(T.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),T.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Tt),{key:1}))],42,Qa)),[[e.vShow,!e.unref(I)(T.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref($)(Z.value),css:e.unref(z)&&!T.timePickerInline},{default:e.withCtx(()=>{var re,c;return[Z.value||T.timePicker||T.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:v,role:T.timePickerInline?void 0:"dialog",class:e.normalizeClass({dp__overlay:!T.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!T.timePickerInline,"dp--overlay-relative":r.timePicker}),style:e.normalizeStyle(T.timePicker?{height:`${e.unref(R).modeHeight}px`}:void 0),"aria-label":(re=e.unref(O))==null?void 0:re.timePicker,tabindex:T.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(T.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[T.$slots["time-picker-overlay"]?e.renderSlot(T.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:ce,setMinutes:p,setSeconds:_}):e.createCommentVNode("",!0),T.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(T.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.value,(W,ae)=>e.withDirectives((e.openBlock(),e.createBlock(qa,e.mergeProps({key:ae,ref_for:!0},{...T.$props,order:ae,hours:W.hours,minutes:W.minutes,seconds:W.seconds,closeTimePickerBtn:b.value,disabledTimesConfig:t.disabledTimesConfig,disabled:ae===0?e.unref(g).fixedStart:e.unref(g).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:A,"validate-time":(B,te)=>t.validateTime(B,ie(te,ae,B)),"onUpdate:hours":B=>ce(ie(B,ae,"hours")),"onUpdate:minutes":B=>p(ie(B,ae,"minutes")),"onUpdate:seconds":B=>_(ie(B,ae,"seconds")),onMounted:X,onOverlayClosed:h,onOverlayOpened:U,onAmPmChange:G[2]||(G[2]=B=>T.$emit("am-pm-change",B))}),e.createSlots({_:2},[e.renderList(e.unref(q),(B,te)=>({name:B,fn:e.withCtx(l=>[e.renderSlot(T.$slots,B,e.mergeProps({ref_for:!0},l))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,ae===0?!0:L.value]])),128))],2)),!T.timePicker&&!T.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:b,type:"button",class:e.normalizeClass({...E.value,"dp--hidden-el":K.value}),"aria-label":(c=e.unref(O))==null?void 0:c.closeTimePicker,tabindex:"0",onKeydown:G[3]||(G[3]=W=>e.unref(Ne)(W,()=>x(!1))),onClick:G[4]||(G[4]=W=>x(!1))},[T.$slots["calendar-icon"]?e.renderSlot(T.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),T.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(at),{key:1}))],42,Ja)),[[e.vShow,!e.unref(I)(T.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,Xa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],8,Ga)}}}),Yn=(t,n,o,a)=>{const{defaultedRange:r}=be(t),u=(v,K)=>Array.isArray(n[v])?n[v][K]:n[v],f=v=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[v]:n.seconds:0,y=(v,K)=>v?K!==void 0?qe(v,u("hours",K),u("minutes",K),f(K)):qe(v,n.hours,n.minutes,f()):i.setSeconds(j(),f(K)),d=(v,K)=>{n[v]=K},O=e.computed(()=>t.modelAuto&&r.value.enabled?Array.isArray(o.value)?o.value.length>1:!1:r.value.enabled),m=(v,K)=>{const L=Object.fromEntries(Object.keys(n).map(Z=>Z===v?[Z,K]:[Z,n[Z]].slice()));if(O.value&&!r.value.disableTimeRangeValidation){const Z=D=>o.value?qe(o.value[D],L.hours[D],L.minutes[D],L.seconds[D]):null,H=D=>i.setMilliseconds(o.value[D],0);return!(ge(Z(0),Z(1))&&(i.isAfter(Z(0),H(1))||i.isBefore(Z(1),H(0))))}return!0},R=(v,K)=>{m(v,K)&&(d(v,K),a&&a())},g=v=>{R("hours",v)},$=v=>{R("minutes",v)},z=v=>{R("seconds",v)},I=(v,K,L,Z)=>{K&&g(v),!K&&!L&&$(v),L&&z(v),o.value&&Z(o.value)},N=v=>{if(v){const K=Array.isArray(v),L=K?[+v[0].hours,+v[1].hours]:+v.hours,Z=K?[+v[0].minutes,+v[1].minutes]:+v.minutes,H=K?[+v[0].seconds,+v[1].seconds]:+v.seconds;d("hours",L),d("minutes",Z),t.enableSeconds&&d("seconds",H)}},b=(v,K)=>{const L={hours:Array.isArray(n.hours)?n.hours[v]:n.hours,disabledArr:[]};return(K||K===0)&&(L.hours=K),Array.isArray(t.disabledTimes)&&(L.disabledArr=r.value.enabled&&Array.isArray(t.disabledTimes[v])?t.disabledTimes[v]:t.disabledTimes),L},A=e.computed(()=>(v,K)=>{var L;if(Array.isArray(t.disabledTimes)){const{disabledArr:Z,hours:H}=b(v,K),D=Z.filter(x=>+x.hours===H);return((L=D[0])==null?void 0:L.minutes)==="*"?{hours:[H],minutes:void 0,seconds:void 0}:{hours:[],minutes:(D==null?void 0:D.map(x=>+x.minutes))??[],seconds:(D==null?void 0:D.map(x=>x.seconds?+x.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:d,updateHours:g,updateMinutes:$,updateSeconds:z,getSetDateTime:y,updateTimeValues:I,getSecondsValue:f,assignStartTime:N,validateTime:m,disabledTimesConfig:A}},Za=(t,n)=>{const o=()=>{t.isTextInputDate&&K()},{modelValue:a,time:r}=gt(t,n,o),{defaultedStartTime:u,defaultedRange:f,defaultedTz:y}=be(t),{updateTimeValues:d,getSetDateTime:O,setTime:m,assignStartTime:R,disabledTimesConfig:g,validateTime:$}=Yn(t,r,a,z);function z(){n("update-flow-step")}const I=H=>{const{hours:D,minutes:x,seconds:E}=H;return{hours:+D,minutes:+x,seconds:E?+E:0}},N=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const D=I(t.startTime[0]),x=I(t.startTime[1]);return[i.set(j(),D),i.set(j(),x)]}const H=I(t.startTime);return i.set(j(),H)}return f.value.enabled?[null,null]:null},b=()=>{if(f.value.enabled){const[H,D]=N();a.value=[Oe(O(H,0),y.value.timezone),Oe(O(D,1),y.value.timezone)]}else a.value=Oe(O(N()),y.value.timezone)},A=H=>Array.isArray(H)?[Fe(j(H[0])),Fe(j(H[1]))]:[Fe(H??j())],v=(H,D,x)=>{m("hours",H),m("minutes",D),m("seconds",t.enableSeconds?x:0)},K=()=>{const[H,D]=A(a.value);return f.value.enabled?v([H.hours,D.hours],[H.minutes,D.minutes],[H.seconds,D.seconds]):v(H.hours,H.minutes,H.seconds)};e.onMounted(()=>{if(!t.shadow)return R(u.value),a.value?K():b()});const L=()=>{Array.isArray(a.value)?a.value=a.value.map((H,D)=>H&&O(H,D)):a.value=O(a.value),n("time-update")};return{modelValue:a,time:r,disabledTimesConfig:g,updateTime:(H,D=!0,x=!1)=>{d(H,D,x,L)},validateTime:$}},Fa=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Le},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:n,emit:o}){const a=o,r=t,u=e.useSlots(),f=Ye(u,"timePicker"),y=e.ref(null),{time:d,modelValue:O,disabledTimesConfig:m,updateTime:R,validateTime:g}=Za(r,a);return e.onMounted(()=>{r.shadow||a("mount",null)}),n({getSidebarProps:()=>({modelValue:O,time:d,updateTime:R}),toggleTimePicker:(I,N=!1,b="")=>{var A;(A=y.value)==null||A.toggleTimePicker(I,N,b)}}),(I,N)=>(e.openBlock(),e.createBlock(vt,{"multi-calendars":0,stretch:"","is-mobile":I.isMobile},{default:e.withCtx(()=>[e.createVNode(On,e.mergeProps({ref_key:"tpRef",ref:y},I.$props,{hours:e.unref(d).hours,minutes:e.unref(d).minutes,seconds:e.unref(d).seconds,"internal-model-value":I.internalModelValue,"disabled-times-config":e.unref(m),"validate-time":e.unref(g),"onUpdate:hours":N[0]||(N[0]=b=>e.unref(R)(b)),"onUpdate:minutes":N[1]||(N[1]=b=>e.unref(R)(b,!1)),"onUpdate:seconds":N[2]||(N[2]=b=>e.unref(R)(b,!1,!0)),onAmPmChange:N[3]||(N[3]=b=>I.$emit("am-pm-change",b)),onResetFlow:N[4]||(N[4]=b=>I.$emit("reset-flow")),onOverlayClosed:N[5]||(N[5]=b=>I.$emit("overlay-toggle",{open:!1,overlay:b})),onOverlayOpened:N[6]||(N[6]=b=>I.$emit("overlay-toggle",{open:!0,overlay:b}))}),e.createSlots({_:2},[e.renderList(e.unref(f),(b,A)=>({name:b,fn:e.withCtx(v=>[e.renderSlot(I.$slots,b,e.normalizeProps(e.guardReactiveProps(v)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),er={class:"dp--header-wrap"},tr={key:0,class:"dp__month_year_wrap"},nr={key:0},ar={class:"dp__month_year_wrap"},rr=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],lr=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Le},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:n,emit:o}){const a=o,r=t,{defaultedTransitions:u,defaultedAriaLabels:f,defaultedMultiCalendars:y,defaultedFilters:d,defaultedConfig:O,defaultedHighlight:m,propDates:R,defaultedUI:g}=be(r),{transitionName:$,showTransition:z}=pt(u),{buildMatrix:I}=Qe(),{handleMonthYearChange:N,isDisabled:b,updateMonthYear:A}=Ca(r,a),{showLeftIcon:v,showRightIcon:K}=Mt(),L=e.ref(!1),Z=e.ref(!1),H=e.ref(!1),D=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const x=c=>({get:()=>r[c],set:W=>{const ae=c===_e.month?_e.year:_e.month;a("update-month-year",{[c]:W,[ae]:r[ae]}),c===_e.month?h(!0):U(!0)}}),E=e.computed(x(_e.month)),q=e.computed(x(_e.year)),ie=e.computed(()=>c=>({month:r.month,year:r.year,items:c===_e.month?r.months:r.years,instance:r.instance,updateMonthYear:A,toggle:c===_e.month?h:U})),ce=e.computed(()=>{const c=r.months.find(W=>W.value===r.month);return c||{text:"",value:0}}),p=e.computed(()=>lt(r.months,c=>{const W=r.month===c.value,ae=ut(c.value,kn(r.year,R.value.minDate),bn(r.year,R.value.maxDate))||d.value.months.includes(c.value),B=Cn(m.value,c.value,r.year);return{active:W,disabled:ae,highlighted:B}})),_=e.computed(()=>lt(r.years,c=>{const W=r.year===c.value,ae=ut(c.value,ot(R.value.minDate),ot(R.value.maxDate))||d.value.years.includes(c.value),B=Ut(m.value,c.value);return{active:W,disabled:ae,highlighted:B}})),X=(c,W,ae)=>{ae!==void 0?c.value=ae:c.value=!c.value,c.value?(H.value=!0,a("overlay-opened",W)):(H.value=!1,a("overlay-closed",W))},h=(c=!1,W)=>{T(c),X(L,Pe.month,W)},U=(c=!1,W)=>{T(c),X(Z,Pe.year,W)},T=c=>{c||a("reset-flow")},G=(c,W)=>{r.arrowNavigation&&(D.value[W]=Be(c),I(D.value,"monthYear"))},C=e.computed(()=>{var c,W,ae,B,te,l;return[{type:_e.month,index:1,toggle:h,modelValue:E.value,updateModelValue:M=>E.value=M,text:ce.value.text,showSelectionGrid:L.value,items:p.value,ariaLabel:(c=f.value)==null?void 0:c.openMonthsOverlay,overlayLabel:((ae=(W=f.value).monthPicker)==null?void 0:ae.call(W,!0))??void 0},{type:_e.year,index:2,toggle:U,modelValue:q.value,updateModelValue:M=>q.value=M,text:pn(r.year,r.locale),showSelectionGrid:Z.value,items:_.value,ariaLabel:(B=f.value)==null?void 0:B.openYearsOverlay,overlayLabel:((l=(te=f.value).yearPicker)==null?void 0:l.call(te,!0))??void 0}]}),re=e.computed(()=>r.disableYearSelect?[C.value[0]]:r.yearFirst?[...C.value].reverse():C.value);return n({toggleMonthPicker:h,toggleYearPicker:U,handleMonthYearChange:N}),(c,W)=>{var ae,B,te,l,M,ne;return e.openBlock(),e.createElementBlock("div",er,[c.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",tr,[e.renderSlot(c.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(A),handleMonthYearChange:e.unref(N),instance:t.instance,isDisabled:e.unref(b)})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[c.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",nr,[e.renderSlot(c.$slots,"top-extra",{value:c.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",ar,[e.unref(v)(e.unref(y),t.instance)&&!c.vertical?(e.openBlock(),e.createBlock(mt,{key:0,"aria-label":(ae=e.unref(f))==null?void 0:ae.prevMonth,disabled:e.unref(b)(!1),class:e.normalizeClass((B=e.unref(g))==null?void 0:B.navBtnPrev),"el-name":"action-prev",onActivate:W[0]||(W[0]=S=>e.unref(N)(!1,!0)),onSetRef:W[1]||(W[1]=S=>G(S,0))},{default:e.withCtx(()=>[c.$slots["arrow-left"]?e.renderSlot(c.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:c.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(re.value,(S,de)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:S.type},[e.createElementVNode("button",{ref_for:!0,ref:me=>G(me,de+1),type:"button","data-dp-element":`overlay-${S.type}`,class:e.normalizeClass(["dp__btn dp__month_year_select",{"dp--hidden-el":H.value}]),"aria-label":`${S.text}-${S.ariaLabel}`,"data-test-id":`${S.type}-toggle-overlay-${t.instance}`,onClick:S.toggle,onKeydown:me=>e.unref(Ne)(me,()=>S.toggle(),!0)},[c.$slots[S.type]?e.renderSlot(c.$slots,S.type,{key:0,text:S.text,value:r[S.type]}):e.createCommentVNode("",!0),c.$slots[S.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(S.text),1)],64))],42,rr),e.createVNode(e.Transition,{name:e.unref($)(S.showSelectionGrid),css:e.unref(z)},{default:e.withCtx(()=>[S.showSelectionGrid?(e.openBlock(),e.createBlock(ft,{key:0,items:S.items,"arrow-navigation":c.arrowNavigation,"hide-navigation":c.hideNavigation,"is-last":c.autoApply&&!e.unref(O).keepActionRow,"skip-button-ref":!1,config:c.config,type:S.type,"header-refs":[],"esc-close":c.escClose,"menu-wrap-ref":c.menuWrapRef,"text-input":c.textInput,"aria-labels":c.ariaLabels,"overlay-label":S.overlayLabel,onSelected:S.updateModelValue,onToggle:S.toggle},e.createSlots({"button-icon":e.withCtx(()=>[c.$slots["calendar-icon"]?e.renderSlot(c.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),c.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(at),{key:1}))]),_:2},[c.$slots[`${S.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:me})=>[e.renderSlot(c.$slots,`${S.type}-overlay-value`,{text:me.text,value:me.value})]),key:"0"}:void 0,c.$slots[`${S.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(c.$slots,`${S.type}-overlay`,e.mergeProps({ref_for:!0},ie.value(S.type)))]),key:"1"}:void 0,c.$slots[`${S.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(c.$slots,`${S.type}-overlay-header`,{toggle:S.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(v)(e.unref(y),t.instance)&&c.vertical?(e.openBlock(),e.createBlock(mt,{key:1,"aria-label":(te=e.unref(f))==null?void 0:te.prevMonth,"el-name":"action-prev",disabled:e.unref(b)(!1),class:e.normalizeClass((l=e.unref(g))==null?void 0:l.navBtnPrev),onActivate:W[2]||(W[2]=S=>e.unref(N)(!1,!0))},{default:e.withCtx(()=>[c.$slots["arrow-up"]?e.renderSlot(c.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.unref(K)(e.unref(y),t.instance)?(e.openBlock(),e.createBlock(mt,{key:2,ref:"rightIcon","el-name":"action-next",disabled:e.unref(b)(!0),"aria-label":(M=e.unref(f))==null?void 0:M.nextMonth,class:e.normalizeClass((ne=e.unref(g))==null?void 0:ne.navBtnNext),onActivate:W[3]||(W[3]=S=>e.unref(N)(!0,!0)),onSetRef:W[4]||(W[4]=S=>G(S,c.disableYearSelect?2:3))},{default:e.withCtx(()=>[c.$slots[c.vertical?"arrow-down":"arrow-right"]?e.renderSlot(c.$slots,c.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),c.$slots[c.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(c.vertical?e.unref(At):e.unref(Bt)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):e.createCommentVNode("",!0)])],64))])}}}),or={class:"dp__calendar_header",role:"row"},sr={key:0,class:"dp__calendar_header_item",role:"gridcell"},ir=["aria-label"],ur={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},cr={class:"dp__cell_inner"},dr=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],fr=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Le},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:o}){const a=o,r=t,{buildMultiLevelMatrix:u}=Qe(),{defaultedTransitions:f,defaultedConfig:y,defaultedAriaLabels:d,defaultedMultiCalendars:O,defaultedWeekNumbers:m,defaultedMultiDates:R,defaultedUI:g}=be(r),$=e.ref(null),z=e.ref({bottom:"",left:"",transform:""}),I=e.ref([]),N=e.ref(null),b=e.ref(!0),A=e.ref(""),v=e.ref({startX:0,endX:0,startY:0,endY:0}),K=e.ref([]),L=e.ref({left:"50%"}),Z=e.ref(!1),H=e.computed(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),D=e.computed(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):Kn(r.formatLocale,r.locale,+r.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:I}),y.value.noSwipe||N.value&&(N.value.addEventListener("touchstart",G,{passive:!1}),N.value.addEventListener("touchend",C,{passive:!1}),N.value.addEventListener("touchmove",re,{passive:!1})),r.monthChangeOnScroll&&N.value&&N.value.addEventListener("wheel",ae,{passive:!1})}),e.onUnmounted(()=>{y.value.noSwipe||N.value&&(N.value.removeEventListener("touchstart",G),N.value.removeEventListener("touchend",C),N.value.removeEventListener("touchmove",re)),r.monthChangeOnScroll&&N.value&&N.value.removeEventListener("wheel",ae)});const x=S=>S?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",E=(S,de)=>{if(r.transitions){const me=Ae(je(j(),r.month,r.year));A.value=Se(Ae(je(j(),S,de)),me)?f.value[x(!0)]:f.value[x(!1)],b.value=!1,e.nextTick(()=>{b.value=!0})}},q=e.computed(()=>({...g.value.calendar??{}})),ie=e.computed(()=>S=>{const de=qn(S);return{dp__marker_dot:de.type==="dot",dp__marker_line:de.type==="line"}}),ce=e.computed(()=>S=>ge(S,$.value)),p=e.computed(()=>({dp__calendar:!0,dp__calendar_next:O.value.count>0&&r.instance!==0})),_=e.computed(()=>S=>r.hideOffsetDates?S.current:!0),X=async(S,de)=>{const{width:me,height:ee}=S.getBoundingClientRect();$.value=de.value;let s={left:`${me/2}px`},V=-50;if(await e.nextTick(),K.value[0]){const{left:se,width:Y}=K.value[0].getBoundingClientRect();se<0&&(s={left:"0"},V=0,L.value.left=`${me/2}px`),window.innerWidth<se+Y&&(s={right:"0"},V=0,L.value.left=`${Y-me/2}px`)}z.value={bottom:`${ee}px`,...s,transform:`translateX(${V}%)`}},h=async(S,de,me)=>{var s,V,se;const ee=Be(I.value[de][me]);ee&&((s=S.marker)!=null&&s.customPosition&&((se=(V=S.marker)==null?void 0:V.tooltip)!=null&&se.length)?z.value=S.marker.customPosition(ee):await X(ee,S),a("tooltip-open",S.marker))},U=async(S,de,me)=>{var ee,s;if(Z.value&&R.value.enabled&&R.value.dragSelect)return a("select-date",S);if(a("set-hover-date",S),(s=(ee=S.marker)==null?void 0:ee.tooltip)!=null&&s.length){if(r.hideOffsetDates&&!S.current)return;await h(S,de,me)}},T=S=>{$.value&&($.value=null,z.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",S.marker))},G=S=>{v.value.startX=S.changedTouches[0].screenX,v.value.startY=S.changedTouches[0].screenY},C=S=>{v.value.endX=S.changedTouches[0].screenX,v.value.endY=S.changedTouches[0].screenY,c()},re=S=>{r.vertical&&!r.inline&&S.preventDefault()},c=()=>{const S=r.vertical?"Y":"X";Math.abs(v.value[`start${S}`]-v.value[`end${S}`])>10&&a("handle-swipe",v.value[`start${S}`]>v.value[`end${S}`]?"right":"left")},W=(S,de,me)=>{S&&(Array.isArray(I.value[de])?I.value[de][me]=S:I.value[de]=[S]),r.arrowNavigation&&u(I.value,"calendar")},ae=S=>{r.monthChangeOnScroll&&(S.preventDefault(),a("handle-scroll",S))},B=S=>m.value.type==="local"?i.getWeek(S.value,{weekStartsOn:+r.weekStart}):m.value.type==="iso"?i.getISOWeek(S.value):typeof m.value.type=="function"?m.value.type(S.value):"",te=S=>{const de=S[0];return m.value.hideOnOffsetDates?S.some(me=>me.current)?B(de):"":B(de)},l=(S,de,me=!0)=>{!me&&Zn()||(!R.value.enabled||y.value.allowPreventDefault)&&(xe(S,y.value),a("select-date",de))},M=S=>{xe(S,y.value)},ne=S=>{R.value.enabled&&R.value.dragSelect?(Z.value=!0,a("select-date",S)):R.value.enabled&&a("select-date",S)};return n({triggerTransition:E}),(S,de)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(p.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:N,class:e.normalizeClass(q.value),role:"grid"},[e.createElementVNode("div",or,[S.weekNumbers?(e.openBlock(),e.createElementBlock("div",sr,e.toDisplayString(S.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.value,(me,ee)=>{var s,V;return e.openBlock(),e.createElementBlock("div",{key:ee,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(V=(s=e.unref(d))==null?void 0:s.weekDay)==null?void 0:V.call(s,ee)},[S.$slots["calendar-header"]?e.renderSlot(S.$slots,"calendar-header",{key:0,day:me,index:ee}):e.createCommentVNode("",!0),S.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(me),1)],64))],8,ir)}),128))]),de[2]||(de[2]=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1)),e.createVNode(e.Transition,{name:A.value,css:!!S.transitions},{default:e.withCtx(()=>[b.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:de[1]||(de[1]=me=>Z.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(H.value,(me,ee)=>(e.openBlock(),e.createElementBlock("div",{key:ee,class:"dp__calendar_row",role:"row"},[S.weekNumbers?(e.openBlock(),e.createElementBlock("div",ur,[e.createElementVNode("div",cr,e.toDisplayString(te(me.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(me.days,(s,V)=>{var se,Y,pe;return e.openBlock(),e.createElementBlock("div",{id:e.unref(Wt)(s.value),ref_for:!0,ref:fe=>W(fe,ee,V),key:V+ee,role:"gridcell",class:"dp__calendar_item","aria-pressed":(s.classData.dp__active_date||s.classData.dp__range_start||s.classData.dp__range_start)??void 0,"aria-disabled":s.classData.dp__cell_disabled||void 0,"aria-label":(Y=(se=e.unref(d))==null?void 0:se.day)==null?void 0:Y.call(se,s),tabindex:!s.current&&S.hideOffsetDates?void 0:0,"data-test-id":e.unref(Wt)(s.value),onClick:e.withModifiers(fe=>l(fe,s),["prevent"]),onTouchend:fe=>l(fe,s,!1),onKeydown:fe=>e.unref(Ne)(fe,()=>S.$emit("select-date",s)),onMouseenter:fe=>U(s,ee,V),onMouseleave:fe=>T(s),onMousedown:fe=>ne(s),onMouseup:de[0]||(de[0]=fe=>Z.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",s.classData])},[S.$slots.day&&_.value(s)?e.renderSlot(S.$slots,"day",{key:0,day:+s.text,date:s.value}):e.createCommentVNode("",!0),S.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(s.text),1)],64)),s.marker&&_.value(s)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[S.$slots.marker?e.renderSlot(S.$slots,"marker",{key:0,marker:s.marker,day:+s.text,date:s.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(ie.value(s.marker)),style:e.normalizeStyle(s.marker.color?{backgroundColor:s.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),ce.value(s.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:K,class:"dp__marker_tooltip",style:e.normalizeStyle(z.value)},[(pe=s.marker)!=null&&pe.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:M},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.marker.tooltip,(fe,ye)=>(e.openBlock(),e.createElementBlock("div",{key:ye,class:"dp__tooltip_text"},[S.$slots["marker-tooltip"]?e.renderSlot(S.$slots,"marker-tooltip",{key:0,tooltip:fe,day:s.value}):e.createCommentVNode("",!0),S.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(fe.color?{backgroundColor:fe.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(fe.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(L.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,dr)}),128))]))),128))],32)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2)],2))}}),Vn=t=>Array.isArray(t),mr=(t,n,o,a)=>{const r=e.ref([]),u=e.ref(new Date),f=e.ref(),y=()=>C(t.isTextInputDate),{modelValue:d,calendars:O,time:m,today:R}=gt(t,n,y),{defaultedMultiCalendars:g,defaultedStartTime:$,defaultedRange:z,defaultedConfig:I,defaultedTz:N,propDates:b,defaultedMultiDates:A}=be(t),{validateMonthYearInRange:v,isDisabled:K,isDateRangeAllowed:L,checkMinMaxRange:Z}=Je(t),{updateTimeValues:H,getSetDateTime:D,setTime:x,assignStartTime:E,validateTime:q,disabledTimesConfig:ie}=Yn(t,m,d,a),ce=e.computed(()=>k=>O.value[k]?O.value[k].month:0),p=e.computed(()=>k=>O.value[k]?O.value[k].year:0),_=k=>!I.value.keepViewOnOffsetClick||k?!0:!f.value,X=(k,F,ue,P=!1)=>{var J,oe;_(P)&&(O.value[k]||(O.value[k]={month:0,year:0}),O.value[k].month=fn(F)?(J=O.value[k])==null?void 0:J.month:F,O.value[k].year=fn(ue)?(oe=O.value[k])==null?void 0:oe.year:ue)},h=()=>{t.autoApply&&n("select-date")},U=()=>{$.value&&E($.value)};e.onMounted(()=>{t.shadow||(d.value||(de(),U()),C(!0),t.focusStartDate&&t.startDate&&de())});const T=e.computed(()=>{var k;return(k=t.flow)!=null&&k.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),G=()=>{t.autoApply&&T.value&&n("auto-apply",t.partialFlow?t.flowStep!==t.flow.length:!1)},C=(k=!1)=>{if(d.value)return Array.isArray(d.value)?(r.value=d.value,l(k)):W(d.value,k);if(g.value.count&&k&&!t.startDate)return c(j(),k)},re=()=>Array.isArray(d.value)&&z.value.enabled?i.getMonth(d.value[0])===i.getMonth(d.value[1]??d.value[0]):!1,c=(k=new Date,F=!1)=>{if((!g.value.count||!g.value.static||F)&&X(0,i.getMonth(k),i.getYear(k)),g.value.count&&(!d.value||re()||!g.value.solo)&&(!g.value.solo||F))for(let ue=1;ue<g.value.count;ue++){const P=i.set(j(),{month:ce.value(ue-1),year:p.value(ue-1)}),J=i.add(P,{months:1});O.value[ue]={month:i.getMonth(J),year:i.getYear(J)}}},W=(k,F)=>{c(k),x("hours",i.getHours(k)),x("minutes",i.getMinutes(k)),x("seconds",i.getSeconds(k)),g.value.count&&F&&S()},ae=k=>{if(g.value.count){if(g.value.solo)return 0;const F=i.getMonth(k[0]),ue=i.getMonth(k[1]);return Math.abs(ue-F)<g.value.count?0:1}return 1},B=(k,F)=>{k[1]&&z.value.showLastInRange?c(k[ae(k)],F):c(k[0],F);const ue=(P,J)=>[P(k[0]),k[1]?P(k[1]):m[J][1]];x("hours",ue(i.getHours,"hours")),x("minutes",ue(i.getMinutes,"minutes")),x("seconds",ue(i.getSeconds,"seconds"))},te=(k,F)=>{if((z.value.enabled||t.weekPicker)&&!A.value.enabled)return B(k,F);if(A.value.enabled&&F){const ue=k[k.length-1];return W(ue,F)}},l=k=>{const F=d.value;te(F,k),g.value.count&&g.value.solo&&S()},M=(k,F)=>{const ue=i.set(j(),{month:ce.value(F),year:p.value(F)}),P=k<0?i.addMonths(ue,1):i.subMonths(ue,1);v(i.getMonth(P),i.getYear(P),k<0,t.preventMinMaxNavigation)&&(X(F,i.getMonth(P),i.getYear(P)),n("update-month-year",{instance:F,month:i.getMonth(P),year:i.getYear(P)}),g.value.count&&!g.value.solo&&ne(F),o())},ne=k=>{for(let F=k-1;F>=0;F--){const ue=i.subMonths(i.set(j(),{month:ce.value(F+1),year:p.value(F+1)}),1);X(F,i.getMonth(ue),i.getYear(ue))}for(let F=k+1;F<=g.value.count-1;F++){const ue=i.addMonths(i.set(j(),{month:ce.value(F-1),year:p.value(F-1)}),1);X(F,i.getMonth(ue),i.getYear(ue))}},S=()=>{if(Array.isArray(d.value)&&d.value.length===2){const k=j(j(d.value[1]?d.value[1]:i.addMonths(d.value[0],1))),[F,ue]=[i.getMonth(d.value[0]),i.getYear(d.value[0])],[P,J]=[i.getMonth(d.value[1]),i.getYear(d.value[1])];(F!==P||F===P&&ue!==J)&&g.value.solo&&X(1,i.getMonth(k),i.getYear(k))}else d.value&&!Array.isArray(d.value)&&(X(0,i.getMonth(d.value),i.getYear(d.value)),c(j()))},de=()=>{t.startDate&&(X(0,i.getMonth(j(t.startDate)),i.getYear(j(t.startDate))),g.value.count&&ne(0))},me=(k,F)=>{if(t.monthChangeOnScroll){const ue=new Date().getTime()-u.value.getTime(),P=Math.abs(k.deltaY);let J=500;P>1&&(J=100),P>100&&(J=0),ue>J&&(u.value=new Date,M(t.monthChangeOnScroll!=="inverse"?-k.deltaY:k.deltaY,F))}},ee=(k,F,ue=!1)=>{t.monthChangeOnArrows&&t.vertical===ue&&s(k,F)},s=(k,F)=>{M(k==="right"?-1:1,F)},V=k=>{if(b.value.markers)return yt(k.value,b.value.markers)},se=(k,F)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[k==0,!0];case"fair":return[k==0||F>k,!0];case"append":return[!1,!1];default:return[!1,!1]}},Y=(k,F,ue,P)=>{if(t.sixWeeks&&k.length<6){const J=6-k.length,oe=(F.getDay()+7-P)%7,Ue=6-(ue.getDay()+7-P)%7,[tt,rn]=se(oe,Ue);for(let nt=1;nt<=J;nt++)if(rn?!!(nt%2)==tt:tt){const St=k[0].days[0],ln=pe(i.addDays(St.value,-7),i.getMonth(F));k.unshift({days:ln})}else{const St=k[k.length-1],ln=St.days[St.days.length-1],Kr=pe(i.addDays(ln.value,1),i.getMonth(F));k.push({days:Kr})}}return k},pe=(k,F)=>{const ue=j(k),P=[];for(let J=0;J<7;J++){const oe=i.addDays(ue,J),Ke=i.getMonth(oe)!==F;P.push({text:t.hideOffsetDates&&Ke?"":oe.getDate(),value:oe,current:!Ke,classData:{}})}return P},fe=(k,F)=>{const ue=[],P=new Date(F,k),J=new Date(F,k+1,0),oe=t.weekStart,Ke=i.startOfWeek(P,{weekStartsOn:oe}),Ue=tt=>{const rn=pe(tt,k);if(ue.push({days:rn}),!ue[ue.length-1].days.some(nt=>ge(Ae(nt.value),Ae(J)))){const nt=i.addDays(tt,7);Ue(nt)}};return Ue(Ke),Y(ue,P,J,oe)},ye=k=>{const F=qe(j(k.value),m.hours,m.minutes,Ve());n("date-update",F),A.value.enabled?Qt(F,d,A.value.limit):d.value=F,a(),e.nextTick().then(()=>{G()})},De=k=>z.value.noDisabledRange?vn(r.value[0],k).some(ue=>K(ue)):!1,ve=()=>{r.value=d.value?d.value.slice():[],r.value.length===2&&!(z.value.fixedStart||z.value.fixedEnd)&&(r.value=[])},w=(k,F)=>{const ue=[j(k.value),i.addDays(j(k.value),+z.value.autoRange)];L(ue)?(F&&Q(k.value),r.value=ue):n("invalid-date",k.value)},Q=k=>{const F=i.getMonth(j(k)),ue=i.getYear(j(k));if(X(0,F,ue),g.value.count>0)for(let P=1;P<g.value.count;P++){const J=ta(i.set(j(k),{year:p.value(P-1),month:ce.value(P-1)}));X(P,J.month,J.year)}},we=k=>{if(De(k.value)||!Z(k.value,d.value,z.value.fixedStart?0:1))return n("invalid-date",k.value);r.value=En(j(k.value),d,n,z)},$e=(k,F)=>{if(ve(),z.value.autoRange)return w(k,F);if(z.value.fixedStart||z.value.fixedEnd)return we(k);r.value[0]?Z(j(k.value),d.value)&&!De(k.value)?Me(j(k.value),j(r.value[0]))?(r.value.unshift(j(k.value)),n("range-end",r.value[0])):(r.value[1]=j(k.value),n("range-end",r.value[1])):(t.autoApply&&n("auto-apply-invalid",k.value),n("invalid-date",k.value)):(r.value[0]=j(k.value),n("range-start",r.value[0]))},Ve=(k=!0)=>t.enableSeconds?Array.isArray(m.seconds)?k?m.seconds[0]:m.seconds[1]:m.seconds:0,le=k=>{r.value[k]=qe(r.value[k],m.hours[k],m.minutes[k],Ve(k!==1))},et=()=>{var k,F;r.value[0]&&r.value[1]&&+((k=r.value)==null?void 0:k[0])>+((F=r.value)==null?void 0:F[1])&&(r.value.reverse(),n("range-start",r.value[0]),n("range-end",r.value[1]))},He=()=>{r.value.length&&(r.value[0]&&!r.value[1]?le(0):(le(0),le(1),a()),et(),d.value=r.value.slice(),wt(r.value,n,t.autoApply,t.modelAuto))},Dt=(k,F=!1)=>{if(K(k.value)||!k.current&&t.hideOffsetDates)return n("invalid-date",k.value);if(f.value=JSON.parse(JSON.stringify(k)),!z.value.enabled)return ye(k);Vn(m.hours)&&Vn(m.minutes)&&!A.value.enabled&&($e(k,F),He())},Ft=(k,F)=>{var P;X(k,F.month,F.year,!0),g.value.count&&!g.value.solo&&ne(k),n("update-month-year",{instance:k,month:F.month,year:F.year}),o(g.value.solo?k:void 0);const ue=(P=t.flow)!=null&&P.length?t.flow[t.flowStep]:void 0;!F.fromNav&&(ue===Pe.month||ue===Pe.year)&&a()},en=(k,F)=>{Rn({value:k,modelValue:d,range:z.value.enabled,timezone:F?void 0:N.value.timezone}),h(),t.multiCalendars&&e.nextTick().then(()=>C(!0))},tn=()=>{const k=Pt(j(),N.value);!z.value.enabled&&!A.value.enabled?d.value=k:d.value&&Array.isArray(d.value)&&d.value[0]?A.value.enabled?d.value=[...d.value,k]:d.value=Me(k,d.value[0])?[k,d.value[0]]:[d.value[0],k]:d.value=[k],h()},nn=()=>{if(Array.isArray(d.value))if(A.value.enabled){const k=an();d.value[d.value.length-1]=D(k)}else d.value=d.value.map((k,F)=>k&&D(k,F));else d.value=D(d.value);n("time-update")},an=()=>Array.isArray(d.value)&&d.value.length?d.value[d.value.length-1]:null;return{calendars:O,modelValue:d,month:ce,year:p,time:m,disabledTimesConfig:ie,today:R,validateTime:q,getCalendarDays:fe,getMarker:V,handleScroll:me,handleSwipe:s,handleArrow:ee,selectDate:Dt,updateMonthYear:Ft,presetDate:en,selectCurrentDate:tn,updateTime:(k,F=!0,ue=!1)=>{H(k,F,ue,nn)},assignMonthAndYear:c,setStartTime:U}},pr={key:0},gr=e.defineComponent({__name:"DatePicker",props:{...Le},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:o}){const a=o,r=t,{calendars:u,month:f,year:y,modelValue:d,time:O,disabledTimesConfig:m,today:R,validateTime:g,getCalendarDays:$,getMarker:z,handleArrow:I,handleScroll:N,handleSwipe:b,selectDate:A,updateMonthYear:v,presetDate:K,selectCurrentDate:L,updateTime:Z,assignMonthAndYear:H,setStartTime:D}=mr(r,a,re,c),x=e.useSlots(),{setHoverDate:E,getDayClassData:q,clearHoverDate:ie}=Er(d,r),{defaultedMultiCalendars:ce}=be(r),p=e.ref([]),_=e.ref([]),X=e.ref(null),h=Ye(x,"calendar"),U=Ye(x,"monthYear"),T=Ye(x,"timePicker"),G=ee=>{r.shadow||a("mount",ee)};e.watch(u,()=>{r.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),e.watch(ce,(ee,s)=>{ee.count-s.count>0&&H()},{deep:!0});const C=e.computed(()=>ee=>$(f.value(ee),y.value(ee)).map(s=>({...s,days:s.days.map(V=>(V.marker=z(V),V.classData=q(V),V))})));function re(ee){var s;ee||ee===0?(s=_.value[ee])==null||s.triggerTransition(f.value(ee),y.value(ee)):_.value.forEach((V,se)=>V.triggerTransition(f.value(se),y.value(se)))}function c(){a("update-flow-step")}const W=(ee,s=!1)=>{A(ee,s),r.spaceConfirm&&a("select-date")},ae=(ee,s,V=0)=>{var se;(se=p.value[V])==null||se.toggleMonthPicker(ee,s)},B=(ee,s,V=0)=>{var se;(se=p.value[V])==null||se.toggleYearPicker(ee,s)},te=(ee,s,V)=>{var se;(se=X.value)==null||se.toggleTimePicker(ee,s,V)},l=(ee,s)=>{var V;if(!r.range){const se=d.value?d.value:R,Y=s?new Date(s):se,pe=ee?i.startOfWeek(Y,{weekStartsOn:1}):i.endOfWeek(Y,{weekStartsOn:1});A({value:pe,current:i.getMonth(Y)===f.value(0),text:"",classData:{}}),(V=document.getElementById(Wt(pe)))==null||V.focus()}},M=ee=>{var s;(s=p.value[0])==null||s.handleMonthYearChange(ee,!0)},ne=ee=>{v(0,{month:f.value(0),year:y.value(0)+(ee?1:-1),fromNav:!0})},S=(ee,s)=>{ee===Pe.time&&a(`time-picker-${s?"open":"close"}`),a("overlay-toggle",{open:s,overlay:ee})},de=ee=>{a("overlay-toggle",{open:!1,overlay:ee}),a("focus-menu")};return n({clearHoverDate:ie,presetDate:K,selectCurrentDate:L,toggleMonthPicker:ae,toggleYearPicker:B,toggleTimePicker:te,handleArrow:I,updateMonthYear:v,getSidebarProps:()=>({modelValue:d,month:f,year:y,time:O,updateTime:Z,updateMonthYear:v,selectDate:A,presetDate:K}),changeMonth:M,changeYear:ne,selectWeekDate:l,setStartTime:D}),(ee,s)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(vt,{"multi-calendars":e.unref(ce).count,collapse:ee.collapse,"is-mobile":ee.isMobile},{default:e.withCtx(({instance:V,index:se})=>[ee.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(lr,e.mergeProps({key:0,ref:Y=>{Y&&(p.value[se]=Y)},months:e.unref(un)(ee.formatLocale,ee.locale,ee.monthNameFormat),years:e.unref(Et)(ee.yearRange,ee.locale,ee.reverseYears),month:e.unref(f)(V),year:e.unref(y)(V),instance:V},ee.$props,{onMount:s[0]||(s[0]=Y=>G(e.unref(Ze).header)),onResetFlow:s[1]||(s[1]=Y=>ee.$emit("reset-flow")),onUpdateMonthYear:Y=>e.unref(v)(V,Y),onOverlayClosed:de,onOverlayOpened:s[2]||(s[2]=Y=>ee.$emit("overlay-toggle",{open:!0,overlay:Y}))}),e.createSlots({_:2},[e.renderList(e.unref(U),(Y,pe)=>({name:Y,fn:e.withCtx(fe=>[e.renderSlot(ee.$slots,Y,e.normalizeProps(e.guardReactiveProps(fe)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(fr,e.mergeProps({ref:Y=>{Y&&(_.value[se]=Y)},"mapped-dates":C.value(V),month:e.unref(f)(V),year:e.unref(y)(V),instance:V},ee.$props,{onSelectDate:Y=>e.unref(A)(Y,V!==1),onHandleSpace:Y=>W(Y,V!==1),onSetHoverDate:s[3]||(s[3]=Y=>e.unref(E)(Y)),onHandleScroll:Y=>e.unref(N)(Y,V),onHandleSwipe:Y=>e.unref(b)(Y,V),onMount:s[4]||(s[4]=Y=>G(e.unref(Ze).calendar)),onResetFlow:s[5]||(s[5]=Y=>ee.$emit("reset-flow")),onTooltipOpen:s[6]||(s[6]=Y=>ee.$emit("tooltip-open",Y)),onTooltipClose:s[7]||(s[7]=Y=>ee.$emit("tooltip-close",Y))}),e.createSlots({_:2},[e.renderList(e.unref(h),(Y,pe)=>({name:Y,fn:e.withCtx(fe=>[e.renderSlot(ee.$slots,Y,e.normalizeProps(e.guardReactiveProps({...fe})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),ee.enableTimePicker?(e.openBlock(),e.createElementBlock("div",pr,[ee.$slots["time-picker"]?e.renderSlot(ee.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(O),updateTime:e.unref(Z)}))):(e.openBlock(),e.createBlock(On,e.mergeProps({key:1,ref_key:"timePickerRef",ref:X},ee.$props,{hours:e.unref(O).hours,minutes:e.unref(O).minutes,seconds:e.unref(O).seconds,"internal-model-value":ee.internalModelValue,"disabled-times-config":e.unref(m),"validate-time":e.unref(g),onMount:s[8]||(s[8]=V=>G(e.unref(Ze).timePicker)),"onUpdate:hours":s[9]||(s[9]=V=>e.unref(Z)(V)),"onUpdate:minutes":s[10]||(s[10]=V=>e.unref(Z)(V,!1)),"onUpdate:seconds":s[11]||(s[11]=V=>e.unref(Z)(V,!1,!0)),onResetFlow:s[12]||(s[12]=V=>ee.$emit("reset-flow")),onOverlayClosed:s[13]||(s[13]=V=>S(V,!1)),onOverlayOpened:s[14]||(s[14]=V=>S(V,!0)),onAmPmChange:s[15]||(s[15]=V=>ee.$emit("am-pm-change",V))}),e.createSlots({_:2},[e.renderList(e.unref(T),(V,se)=>({name:V,fn:e.withCtx(Y=>[e.renderSlot(ee.$slots,V,e.normalizeProps(e.guardReactiveProps(Y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),yr=(t,n)=>{const o=e.ref(),{defaultedMultiCalendars:a,defaultedConfig:r,defaultedHighlight:u,defaultedRange:f,propDates:y,defaultedFilters:d,defaultedMultiDates:O}=be(t),{modelValue:m,year:R,month:g,calendars:$}=gt(t,n),{isDisabled:z}=Je(t),{selectYear:I,groupedYears:N,showYearPicker:b,isDisabled:A,toggleYearPicker:v,handleYearSelect:K,handleYear:L}=Nn({modelValue:m,multiCalendars:a,range:f,highlight:u,calendars:$,propDates:y,month:g,year:R,filters:d,props:t,emit:n}),Z=(h,U)=>[h,U].map(T=>i.format(T,"MMMM",{locale:t.formatLocale})).join("-"),H=e.computed(()=>h=>m.value?Array.isArray(m.value)?m.value.some(U=>i.isSameQuarter(h,U)):i.isSameQuarter(m.value,h):!1),D=h=>{if(f.value.enabled){if(Array.isArray(m.value)){const U=ge(h,m.value[0])||ge(h,m.value[1]);return ct(m.value,o.value,h)&&!U}return!1}return!1},x=(h,U)=>h.quarter===i.getQuarter(U)&&h.year===i.getYear(U),E=h=>typeof u.value=="function"?u.value({quarter:i.getQuarter(h),year:i.getYear(h)}):!!u.value.quarters.find(U=>x(U,h)),q=e.computed(()=>h=>{const U=i.set(new Date,{year:R.value(h)});return i.eachQuarterOfInterval({start:i.startOfYear(U),end:i.endOfYear(U)}).map(T=>{const G=i.startOfQuarter(T),C=i.endOfQuarter(T),re=z(T),c=D(G),W=E(G);return{text:Z(G,C),value:G,active:H.value(G),highlighted:W,disabled:re,isBetween:c}})}),ie=h=>{Qt(h,m,O.value.limit),n("auto-apply",!0)},ce=h=>{m.value=Xt(m,h,n),wt(m.value,n,t.autoApply,t.modelAuto)},p=h=>{m.value=h,n("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:a,groupedYears:N,year:R,isDisabled:A,quarters:q,showYearPicker:b,modelValue:m,setHoverDate:h=>{o.value=h},selectYear:I,selectQuarter:(h,U,T)=>{if(!T)return $.value[U].month=i.getMonth(i.endOfQuarter(h)),O.value.enabled?ie(h):f.value.enabled?ce(h):p(h)},toggleYearPicker:v,handleYearSelect:K,handleYear:L}},hr={class:"dp--quarter-items"},kr=["data-test-id","disabled","onClick","onMouseover"],br=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Le},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:n,emit:o}){const a=o,r=t,u=e.useSlots(),f=Ye(u,"yearMode"),{defaultedMultiCalendars:y,defaultedConfig:d,groupedYears:O,year:m,isDisabled:R,quarters:g,modelValue:$,showYearPicker:z,setHoverDate:I,selectQuarter:N,toggleYearPicker:b,handleYearSelect:A,handleYear:v}=yr(r,a);return n({getSidebarProps:()=>({modelValue:$,year:m,selectQuarter:N,handleYearSelect:A,handleYear:v})}),(L,Z)=>(e.openBlock(),e.createBlock(vt,{"multi-calendars":e.unref(y).count,collapse:L.collapse,stretch:"","is-mobile":L.isMobile},{default:e.withCtx(({instance:H})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(d).modeHeight}px`})},[L.$slots["top-extra"]?e.renderSlot(L.$slots,"top-extra",{key:0,value:L.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(Pn,e.mergeProps(L.$props,{items:e.unref(O)(H),instance:H,"show-year-picker":e.unref(z)[H],year:e.unref(m)(H),"is-disabled":D=>e.unref(R)(H,D),onHandleYear:D=>e.unref(v)(H,D),onYearSelect:D=>e.unref(A)(D,H),onToggleYearPicker:D=>e.unref(b)(H,D==null?void 0:D.flow,D==null?void 0:D.show)}),e.createSlots({_:2},[e.renderList(e.unref(f),(D,x)=>({name:D,fn:e.withCtx(E=>[e.renderSlot(L.$slots,D,e.normalizeProps(e.guardReactiveProps(E)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",hr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(g)(H),(D,x)=>(e.openBlock(),e.createElementBlock("div",{key:x},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":D.active,"dp--qr-btn-between":D.isBetween,"dp--qr-btn-disabled":D.disabled,"dp--highlighted":D.highlighted}]),"data-test-id":D.value,disabled:D.disabled,onClick:E=>e.unref(N)(D.value,H,D.disabled),onMouseover:E=>e.unref(I)(D.value)},[L.$slots.quarter?e.renderSlot(L.$slots,"quarter",{key:0,value:D.value,text:D.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(D.text),1)],64))],42,kr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),_n=(t,n)=>{const o=e.ref(0);e.onMounted(()=>{a(),window.addEventListener("resize",a,{passive:!0})}),e.onUnmounted(()=>{window.removeEventListener("resize",a)});const a=()=>{o.value=window.document.documentElement.clientWidth};return{isMobile:e.computed(()=>o.value<=t.value.mobileBreakpoint&&!n?!0:void 0)}},vr=["id","tabindex","role","aria-label"],wr={key:0,class:"dp--menu-load-container"},Mr={key:1,class:"dp--menu-header"},Dr=["data-dp-mobile"],Sr={key:0,class:"dp__sidebar_left"},Cr=["data-dp-mobile"],Br=["data-test-id","data-dp-mobile","onClick","onKeydown"],Tr={key:2,class:"dp__sidebar_right"},$r={key:3,class:"dp__action_extra"},In=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...bt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(t,{expose:n,emit:o}){const a=o,r=t,u=e.ref(null),f=e.computed(()=>{const{openOnTop:w,...Q}=r;return{...Q,isMobile:N.value,flowStep:ce.value,menuWrapRef:u.value}}),{setMenuFocused:y,setShiftKey:d,control:O}=Tn(),m=e.useSlots(),{defaultedTextInput:R,defaultedInline:g,defaultedConfig:$,defaultedUI:z,handleEventPropagation:I}=be(r),{isMobile:N}=_n($,r.shadow),b=e.ref(null),A=e.ref(0),v=e.ref(null),K=e.ref(!1),L=e.ref(null),Z=e.ref(!1),H=w=>{Z.value=!0,$.value.allowPreventDefault&&w.preventDefault(),xe(w,$.value,!0)};e.onMounted(()=>{if(!r.shadow){K.value=!0,D(),window.addEventListener("resize",D);const w=Be(u);w&&!R.value.enabled&&!g.value.enabled&&(y(!0),G()),w&&(w.addEventListener("pointerdown",H),w.addEventListener("mousedown",H))}document.addEventListener("mousedown",De)}),e.onUnmounted(()=>{window.removeEventListener("resize",D),document.removeEventListener("mousedown",De);const w=Be(u);w&&(w.removeEventListener("pointerdown",H),w.removeEventListener("mousedown",H))});const D=()=>{const w=Be(v);w&&(A.value=w.getBoundingClientRect().width)},{arrowRight:x,arrowLeft:E,arrowDown:q,arrowUp:ie}=Qe(),{flowStep:ce,updateFlowStep:p,childMount:_,resetFlow:X,handleFlow:h}=Nr(r,a,L),U=e.computed(()=>r.monthPicker?_a:r.yearPicker?za:r.timePicker?Fa:r.quarterPicker?br:gr),T=e.computed(()=>{var we;if($.value.arrowLeft)return $.value.arrowLeft;const w=(we=u.value)==null?void 0:we.getBoundingClientRect(),Q=r.getInputRect();return(Q==null?void 0:Q.width)<(A==null?void 0:A.value)&&(Q==null?void 0:Q.left)<=((w==null?void 0:w.left)??0)?`${(Q==null?void 0:Q.width)/2}px`:(Q==null?void 0:Q.right)>=((w==null?void 0:w.right)??0)&&(Q==null?void 0:Q.width)<(A==null?void 0:A.value)?`${(A==null?void 0:A.value)-(Q==null?void 0:Q.width)/2}px`:"50%"}),G=()=>{const w=Be(u);w&&w.focus({preventScroll:!0})},C=e.computed(()=>{var w;return((w=L.value)==null?void 0:w.getSidebarProps())||{}}),re=()=>{r.openOnTop&&a("recalculate-position")},c=Ye(m,"action"),W=e.computed(()=>r.monthPicker||r.yearPicker?Ye(m,"monthYear"):r.timePicker?Ye(m,"timePicker"):Ye(m,"shared")),ae=e.computed(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),B=e.computed(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),te=e.computed(()=>({dp__menu:!0,dp__menu_index:!g.value.enabled,dp__relative:g.value.enabled,...z.value.menu??{}})),l=w=>{xe(w,$.value,!0)},M=w=>{r.escClose&&(a("close-picker"),I(w))},ne=w=>{if(r.arrowNavigation){if(w===Ee.up)return ie();if(w===Ee.down)return q();if(w===Ee.left)return E();if(w===Ee.right)return x()}else w===Ee.left||w===Ee.up?s("handleArrow",Ee.left,0,w===Ee.up):s("handleArrow",Ee.right,0,w===Ee.down)},S=w=>{d(w.shiftKey),!r.disableMonthYearSelect&&w.code===he.tab&&w.target.classList.contains("dp__menu")&&O.value.shiftKeyInMenu&&(w.preventDefault(),xe(w,$.value,!0),a("close-picker"))},de=()=>{G(),a("time-picker-close")},me=w=>{var Q,we,$e;(Q=L.value)==null||Q.toggleTimePicker(!1,!1),(we=L.value)==null||we.toggleMonthPicker(!1,!1,w),($e=L.value)==null||$e.toggleYearPicker(!1,!1,w)},ee=(w,Q=0)=>{var we,$e,Ve;return w==="month"?(we=L.value)==null?void 0:we.toggleMonthPicker(!1,!0,Q):w==="year"?($e=L.value)==null?void 0:$e.toggleYearPicker(!1,!0,Q):w==="time"?(Ve=L.value)==null?void 0:Ve.toggleTimePicker(!0,!1):me(Q)},s=(w,...Q)=>{var we,$e;(we=L.value)!=null&&we[w]&&(($e=L.value)==null||$e[w](...Q))},V=()=>{s("selectCurrentDate")},se=(w,Q)=>{s("presetDate",e.toValue(w),Q)},Y=()=>{s("clearHoverDate")},pe=(w,Q)=>{s("updateMonthYear",w,Q)},fe=(w,Q)=>{w.preventDefault(),ne(Q)},ye=w=>{var Q,we,$e;if(S(w),w.key===he.home||w.key===he.end)return s("selectWeekDate",w.key===he.home,w.target.getAttribute("id"));switch((w.key===he.pageUp||w.key===he.pageDown)&&(w.shiftKey?(s("changeYear",w.key===he.pageUp),(Q=Ot(u.value,"overlay-year"))==null||Q.focus()):(s("changeMonth",w.key===he.pageUp),(we=Ot(u.value,w.key===he.pageUp?"action-prev":"action-next"))==null||we.focus()),w.target.getAttribute("id")&&(($e=u.value)==null||$e.focus({preventScroll:!0}))),w.key){case he.esc:return M(w);case he.arrowLeft:return fe(w,Ee.left);case he.arrowRight:return fe(w,Ee.right);case he.arrowUp:return fe(w,Ee.up);case he.arrowDown:return fe(w,Ee.down);default:return}},De=w=>{var Q;g.value.enabled&&!g.value.input&&!((Q=u.value)!=null&&Q.contains(w.target))&&Z.value&&(Z.value=!1,a("menu-blur"))};return n({updateMonthYear:pe,switchView:ee,handleFlow:h,onValueCleared:()=>{var w,Q;(Q=(w=L.value)==null?void 0:w.setStartTime)==null||Q.call(w)}}),(w,Q)=>{var we,$e,Ve;return e.openBlock(),e.createElementBlock("div",{id:w.uid?`dp-menu-${w.uid}`:void 0,ref_key:"dpMenuRef",ref:u,tabindex:e.unref(g).enabled?void 0:"0",role:e.unref(g).enabled?void 0:"dialog","aria-label":(we=w.ariaLabels)==null?void 0:we.menu,class:e.normalizeClass(te.value),style:e.normalizeStyle({"--dp-arrow-left":T.value}),onMouseleave:Y,onClick:l,onKeydown:ye},[(w.disabled||w.readonly)&&e.unref(g).enabled||w.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(B.value)},[w.loading?(e.openBlock(),e.createElementBlock("div",wr,Q[19]||(Q[19]=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)]))):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),w.$slots["menu-header"]?(e.openBlock(),e.createElementBlock("div",Mr,[e.renderSlot(w.$slots,"menu-header")])):e.createCommentVNode("",!0),!e.unref(g).enabled&&!w.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(ae.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:v,class:e.normalizeClass({dp__menu_content_wrapper:(($e=w.presetDates)==null?void 0:$e.length)||!!w.$slots["left-sidebar"]||!!w.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Ve=w.presetDates)==null?void 0:Ve.length)||!!w.$slots["left-sidebar"]||!!w.$slots["right-sidebar"])}),"data-dp-mobile":e.unref(N),style:e.normalizeStyle({"--dp-menu-width":`${A.value}px`})},[w.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Sr,[e.renderSlot(w.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(C.value)))])):e.createCommentVNode("",!0),w.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0}),"data-dp-mobile":e.unref(N)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.presetDates,(le,et)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:et},[le.slot?e.renderSlot(w.$slots,le.slot,{key:0,presetDate:se,label:le.label,value:le.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(le.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test-id":le.testId??void 0,"data-dp-mobile":e.unref(N),onClick:e.withModifiers(He=>se(le.value,le.noTz),["prevent"]),onKeydown:He=>e.unref(Ne)(He,()=>se(le.value,le.noTz),!0)},e.toDisplayString(le.label),47,Br))],64))),128))],10,Cr)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:b,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(U.value),e.mergeProps({ref_key:"dynCmpRef",ref:L},f.value,{"flow-step":e.unref(ce),onMount:e.unref(_),onUpdateFlowStep:e.unref(p),onResetFlow:e.unref(X),onFocusMenu:G,onSelectDate:Q[0]||(Q[0]=le=>w.$emit("select-date")),onDateUpdate:Q[1]||(Q[1]=le=>w.$emit("date-update",le)),onTooltipOpen:Q[2]||(Q[2]=le=>w.$emit("tooltip-open",le)),onTooltipClose:Q[3]||(Q[3]=le=>w.$emit("tooltip-close",le)),onAutoApply:Q[4]||(Q[4]=le=>w.$emit("auto-apply",le)),onRangeStart:Q[5]||(Q[5]=le=>w.$emit("range-start",le)),onRangeEnd:Q[6]||(Q[6]=le=>w.$emit("range-end",le)),onInvalidFixedRange:Q[7]||(Q[7]=le=>w.$emit("invalid-fixed-range",le)),onTimeUpdate:Q[8]||(Q[8]=le=>w.$emit("time-update")),onAmPmChange:Q[9]||(Q[9]=le=>w.$emit("am-pm-change",le)),onTimePickerOpen:Q[10]||(Q[10]=le=>w.$emit("time-picker-open",le)),onTimePickerClose:de,onRecalculatePosition:re,onUpdateMonthYear:Q[11]||(Q[11]=le=>w.$emit("update-month-year",le)),onAutoApplyInvalid:Q[12]||(Q[12]=le=>w.$emit("auto-apply-invalid",le)),onInvalidDate:Q[13]||(Q[13]=le=>w.$emit("invalid-date",le)),onOverlayToggle:Q[14]||(Q[14]=le=>w.$emit("overlay-toggle",le)),"onUpdate:internalModelValue":Q[15]||(Q[15]=le=>w.$emit("update:internal-model-value",le))}),e.createSlots({_:2},[e.renderList(W.value,(le,et)=>({name:le,fn:e.withCtx(He=>[e.renderSlot(w.$slots,le,e.normalizeProps(e.guardReactiveProps({...He})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),w.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Tr,[e.renderSlot(w.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(C.value)))])):e.createCommentVNode("",!0),w.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",$r,[w.$slots["action-extra"]?e.renderSlot(w.$slots,"action-extra",{key:0,selectCurrentDate:V}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],14,Dr),!w.autoApply||e.unref($).keepActionRow?(e.openBlock(),e.createBlock($a,e.mergeProps({key:3,"menu-mount":K.value},f.value,{"calendar-width":A.value,onClosePicker:Q[16]||(Q[16]=le=>w.$emit("close-picker")),onSelectDate:Q[17]||(Q[17]=le=>w.$emit("select-date")),onInvalidSelect:Q[18]||(Q[18]=le=>w.$emit("invalid-select")),onSelectNow:V}),e.createSlots({_:2},[e.renderList(e.unref(c),(le,et)=>({name:le,fn:e.withCtx(He=>[e.renderSlot(w.$slots,le,e.normalizeProps(e.guardReactiveProps({...He})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,vr)}}});var it=(t=>(t.center="center",t.left="left",t.right="right",t))(it||{});const Ar=({menuRef:t,menuRefInner:n,inputRef:o,pickerWrapperRef:a,inline:r,emit:u,props:f,slots:y})=>{const{defaultedConfig:d}=be(f),O=e.ref({}),m=e.ref(!1),R=e.ref({top:"0",left:"0"}),g=e.ref(!1),$=e.toRef(f,"teleportCenter");e.watch($,()=>{R.value=JSON.parse(JSON.stringify({})),L()});const z=h=>{if(f.teleport){const U=h.getBoundingClientRect();return{left:U.left+window.scrollX,top:U.top+window.scrollY}}return{top:0,left:0}},I=(h,U)=>{R.value.left=`${h+U-O.value.width}px`},N=h=>{R.value.left=`${h}px`},b=(h,U)=>{f.position===it.left&&N(h),f.position===it.right&&I(h,U),f.position===it.center&&(R.value.left=`${h+U/2-O.value.width/2}px`)},A=h=>{const{width:U,height:T}=h.getBoundingClientRect(),{top:G,left:C}=z(h);return{top:+G,left:+C,width:U,height:T}},v=()=>{R.value.left="50%",R.value.top="50%",R.value.transform="translate(-50%, -50%)",R.value.position="fixed",delete R.value.opacity},K=()=>{const h=Be(o);R.value=f.altPosition(h)},L=(h=!0)=>{var U;if(!r.value.enabled){if($.value)return v();if(f.altPosition!==null)return K();if(h){const T=f.teleport?(U=n.value)==null?void 0:U.$el:t.value;T&&(O.value=T.getBoundingClientRect()),u("recalculate-position")}return ie()}},Z=({inputEl:h,left:U,width:T})=>{window.screen.width>768&&!m.value&&b(U,T),x(h)},H=h=>{const{top:U,left:T,height:G,width:C}=A(h);R.value.top=`${G+U+ +f.offset}px`,g.value=!1,m.value||(R.value.left=`${T+C/2-O.value.width/2}px`),Z({inputEl:h,left:T,width:C})},D=h=>{const{top:U,left:T,width:G}=A(h);R.value.top=`${U-+f.offset-O.value.height}px`,g.value=!0,Z({inputEl:h,left:T,width:G})},x=h=>{if(f.autoPosition){const{left:U,width:T}=A(h),{left:G,right:C}=O.value;if(!m.value){if(Math.abs(G)!==Math.abs(C)){if(G<=0)return m.value=!0,N(U);if(C>=document.documentElement.clientWidth)return m.value=!0,I(U,T)}return b(U,T)}}},E=()=>{const h=Be(o);if(h){if(f.autoPosition===Ie.top)return Ie.top;if(f.autoPosition===Ie.bottom)return Ie.bottom;const{height:U}=O.value,{top:T,height:G}=h.getBoundingClientRect(),re=window.innerHeight-T-G,c=T;return U<=re?Ie.bottom:U>re&&U<=c?Ie.top:re>=c?Ie.bottom:Ie.top}return Ie.bottom},q=h=>E()===Ie.bottom?H(h):D(h),ie=()=>{const h=Be(o);if(h)return f.autoPosition?q(h):H(h)},ce=function(h){if(h){const U=h.scrollHeight>h.clientHeight,G=window.getComputedStyle(h).overflowY.indexOf("hidden")!==-1;return U&&!G}return!0},p=function(h){return!h||h===document.body||h.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:ce(h)?h:p(h.assignedSlot&&d.value.shadowDom?h.assignedSlot.parentNode:h.parentNode)},_=h=>{if(h)switch(f.position){case it.left:return{left:0,transform:"translateX(0)"};case it.right:return{left:`${h.width}px`,transform:"translateX(-100%)"};default:return{left:`${h.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:g,menuStyle:R,xCorrect:m,setMenuPosition:L,getScrollableParent:p,shadowRender:(h,U,T)=>{var B,te,l;const G=document.createElement("div"),C=(B=Be(o))==null?void 0:B.getBoundingClientRect();G.setAttribute("id","dp--temp-container");const re=(te=a.value)!=null&&te.clientWidth?a.value:document.body;re.append(G);const c=_(C),W=d.value.shadowDom?Object.keys(y).filter(M=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(M)):Object.keys(y),ae=e.h(U,{...T,shadow:!0,style:{opacity:0,position:"absolute",...c}},Object.fromEntries(W.map(M=>[M,y[M]])));h!=null&&(ae.appContext=h.appContext),e.render(ae,G),O.value=(l=ae.el)==null?void 0:l.getBoundingClientRect(),e.render(null,G),re.removeChild(G)}}},Xe=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],Pr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Rr={all:()=>Xe,monthYear:()=>Xe.filter(t=>t.use.includes("month-year")),input:()=>Pr,timePicker:()=>Xe.filter(t=>t.use.includes("time")),action:()=>Xe.filter(t=>t.use.includes("action")),calendar:()=>Xe.filter(t=>t.use.includes("calendar")),menu:()=>Xe.filter(t=>t.use.includes("menu")),shared:()=>Xe.filter(t=>t.use.includes("shared")),yearMode:()=>Xe.filter(t=>t.use.includes("year-mode"))},Ye=(t,n,o)=>{const a=[];return Rr[n]().forEach(r=>{t[r.name]&&a.push(r.name)}),o!=null&&o.length&&o.forEach(r=>{r.slot&&a.push(r.slot)}),a},pt=t=>{const n=e.computed(()=>a=>t.value?a?t.value.open:t.value.close:""),o=e.computed(()=>a=>t.value?a?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:o}},gt=(t,n,o)=>{const{defaultedRange:a,defaultedTz:r}=be(t),u=j(Oe(j(),r.value.timezone)),f=e.ref([{month:i.getMonth(u),year:i.getYear(u)}]),y=g=>{const $={hours:i.getHours(u),minutes:i.getMinutes(u),seconds:0};return a.value.enabled?[$[g],$[g]]:$[g]},d=e.reactive({hours:y("hours"),minutes:y("minutes"),seconds:y("seconds")});e.watch(a,(g,$)=>{g.enabled!==$.enabled&&(d.hours=y("hours"),d.minutes=y("minutes"),d.seconds=y("seconds"))},{deep:!0});const O=e.computed({get:()=>t.internalModelValue,set:g=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",g)}}),m=e.computed(()=>g=>f.value[g]?f.value[g].month:0),R=e.computed(()=>g=>f.value[g]?f.value[g].year:0);return e.watch(O,(g,$)=>{o&&JSON.stringify(g??{})!==JSON.stringify($??{})&&o()},{deep:!0}),{calendars:f,time:d,modelValue:O,month:m,year:R,today:u}},Er=(t,n)=>{const{defaultedMultiCalendars:o,defaultedMultiDates:a,defaultedUI:r,defaultedHighlight:u,defaultedTz:f,propDates:y,defaultedRange:d}=be(n),{isDisabled:O}=Je(n),m=e.ref(null),R=e.ref(Oe(new Date,f.value.timezone)),g=l=>{!l.current&&n.hideOffsetDates||(m.value=l.value)},$=()=>{m.value=null},z=l=>Array.isArray(t.value)&&d.value.enabled&&t.value[0]&&m.value?l?Se(m.value,t.value[0]):Me(m.value,t.value[0]):!0,I=(l,M)=>{const ne=()=>t.value?M?t.value[0]||null:t.value[1]:null,S=t.value&&Array.isArray(t.value)?ne():null;return ge(j(l.value),S)},N=l=>{const M=Array.isArray(t.value)?t.value[0]:null;return l?!Me(m.value??null,M):!0},b=(l,M=!0)=>(d.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!l.current?!1:ge(j(l.value),t.value[M?0:1]):d.value.enabled?I(l,M)&&N(M)||ge(l.value,Array.isArray(t.value)?t.value[0]:null)&&z(M):!1,A=(l,M)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const ne=ge(l.value,m.value);return M?Se(t.value[0],l.value)&&ne:Me(t.value[0],l.value)&&ne}return!1},v=l=>!t.value||n.hideOffsetDates&&!l.current?!1:d.value.enabled?n.modelAuto&&Array.isArray(t.value)?ge(l.value,t.value[0]?t.value[0]:R.value):!1:a.value.enabled&&Array.isArray(t.value)?t.value.some(M=>ge(M,l.value)):ge(l.value,t.value?t.value:R.value),K=l=>{if(d.value.autoRange||n.weekPicker){if(m.value){if(n.hideOffsetDates&&!l.current)return!1;const M=i.addDays(m.value,+d.value.autoRange),ne=We(j(m.value),n.weekStart);return n.weekPicker?ge(ne[1],j(l.value)):ge(M,j(l.value))}return!1}return!1},L=l=>{if(d.value.autoRange||n.weekPicker){if(m.value){const M=i.addDays(m.value,+d.value.autoRange);if(n.hideOffsetDates&&!l.current)return!1;const ne=We(j(m.value),n.weekStart);return n.weekPicker?Se(l.value,ne[0])&&Me(l.value,ne[1]):Se(l.value,m.value)&&Me(l.value,M)}return!1}return!1},Z=l=>{if(d.value.autoRange||n.weekPicker){if(m.value){if(n.hideOffsetDates&&!l.current)return!1;const M=We(j(m.value),n.weekStart);return n.weekPicker?ge(M[0],l.value):ge(m.value,l.value)}return!1}return!1},H=l=>ct(t.value,m.value,l.value),D=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,x=()=>n.modelAuto?cn(n.internalModelValue):!0,E=l=>{if(n.weekPicker)return!1;const M=d.value.enabled?!b(l)&&!b(l,!1):!0;return!O(l.value)&&!v(l)&&!(!l.current&&n.hideOffsetDates)&&M},q=l=>d.value.enabled?n.modelAuto?D()&&v(l):!1:v(l),ie=l=>u.value?Jn(l.value,y.value.highlight):!1,ce=l=>{const M=O(l.value);return M&&(typeof u.value=="function"?!u.value(l.value,M):!u.value.options.highlightDisabled)},p=l=>{var M;return typeof u.value=="function"?u.value(l.value):(M=u.value.weekdays)==null?void 0:M.includes(l.value.getDay())},_=l=>(d.value.enabled||n.weekPicker)&&(!(o.value.count>0)||l.current)&&x()&&!(!l.current&&n.hideOffsetDates)&&!v(l)?H(l):!1,X=l=>{if(Array.isArray(t.value)&&t.value.length===1){const{before:M,after:ne}=Bn(+d.value.maxRange,t.value[0]);return i.isBefore(l.value,M)||i.isAfter(l.value,ne)}return!1},h=l=>{if(Array.isArray(t.value)&&t.value.length===1){const{before:M,after:ne}=Bn(+d.value.minRange,t.value[0]);return ct([M,ne],t.value[0],l.value)}return!1},U=l=>d.value.enabled&&(d.value.maxRange||d.value.minRange)?d.value.maxRange&&d.value.minRange?X(l)||h(l):d.value.maxRange?X(l):h(l):!1,T=l=>{const{isRangeStart:M,isRangeEnd:ne}=c(l),S=d.value.enabled?M||ne:!1;return{dp__cell_offset:!l.current,dp__pointer:!n.disabled&&!(!l.current&&n.hideOffsetDates)&&!O(l.value)&&!U(l),dp__cell_disabled:O(l.value)||U(l),dp__cell_highlight:!ce(l)&&(ie(l)||p(l))&&!q(l)&&!S&&!Z(l)&&!(_(l)&&n.weekPicker)&&!ne,dp__cell_highlight_active:!ce(l)&&(ie(l)||p(l))&&q(l),dp__today:!n.noToday&&ge(l.value,R.value)&&l.current,"dp--past":Me(l.value,R.value),"dp--future":Se(l.value,R.value)}},G=l=>({dp__active_date:q(l),dp__date_hover:E(l)}),C=l=>{if(t.value&&!Array.isArray(t.value)){const M=We(t.value,n.weekStart);return{...ae(l),dp__range_start:ge(M[0],l.value),dp__range_end:ge(M[1],l.value),dp__range_between_week:Se(l.value,M[0])&&Me(l.value,M[1])}}return{...ae(l)}},re=l=>{if(t.value&&Array.isArray(t.value)){const M=We(t.value[0],n.weekStart),ne=t.value[1]?We(t.value[1],n.weekStart):[];return{...ae(l),dp__range_start:ge(M[0],l.value)||ge(ne[0],l.value),dp__range_end:ge(M[1],l.value)||ge(ne[1],l.value),dp__range_between_week:Se(l.value,M[0])&&Me(l.value,M[1])||Se(l.value,ne[0])&&Me(l.value,ne[1]),dp__range_between:Se(l.value,M[1])&&Me(l.value,ne[0])}}return{...ae(l)}},c=l=>{const M=o.value.count>0?l.current&&b(l)&&x():b(l)&&x(),ne=o.value.count>0?l.current&&b(l,!1)&&x():b(l,!1)&&x();return{isRangeStart:M,isRangeEnd:ne}},W=l=>{const{isRangeStart:M,isRangeEnd:ne}=c(l);return{dp__range_start:M,dp__range_end:ne,dp__range_between:_(l),dp__date_hover:ge(l.value,m.value)&&!M&&!ne&&!n.weekPicker,dp__date_hover_start:A(l,!0),dp__date_hover_end:A(l,!1)}},ae=l=>({...W(l),dp__cell_auto_range:L(l),dp__cell_auto_range_start:Z(l),dp__cell_auto_range_end:K(l)}),B=l=>d.value.enabled?d.value.autoRange?ae(l):n.modelAuto?{...G(l),...W(l)}:n.weekPicker?re(l):W(l):n.weekPicker?C(l):G(l);return{setHoverDate:g,clearHoverDate:$,getDayClassData:l=>n.hideOffsetDates&&!l.current?{}:{...T(l),...B(l),[n.dayClass?n.dayClass(l.value,n.internalModelValue):""]:!0,...r.value.calendarCell??{}}}},Je=t=>{const{defaultedFilters:n,defaultedRange:o,propDates:a,defaultedMultiDates:r}=be(t),u=p=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(j(p)):!!yt(p,a.value.disabledDates):!1,f=p=>a.value.maxDate?t.yearPicker?i.getYear(p)>i.getYear(a.value.maxDate):Se(p,a.value.maxDate):!1,y=p=>a.value.minDate?t.yearPicker?i.getYear(p)<i.getYear(a.value.minDate):Me(p,a.value.minDate):!1,d=p=>{const _=f(p),X=y(p),h=u(p),T=n.value.months.map(W=>+W).includes(i.getMonth(p)),G=t.disabledWeekDays.length?t.disabledWeekDays.some(W=>+W===i.getDay(p)):!1,C=$(p),re=i.getYear(p),c=re<+t.yearRange[0]||re>+t.yearRange[1];return!(_||X||h||T||c||G||C)},O=(p,_)=>Me(...Ge(a.value.minDate,p,_))||ge(...Ge(a.value.minDate,p,_)),m=(p,_)=>Se(...Ge(a.value.maxDate,p,_))||ge(...Ge(a.value.maxDate,p,_)),R=(p,_,X)=>{let h=!1;return a.value.maxDate&&X&&m(p,_)&&(h=!0),a.value.minDate&&!X&&O(p,_)&&(h=!0),h},g=(p,_,X,h)=>{let U=!1;return h&&(a.value.minDate||a.value.maxDate)?a.value.minDate&&a.value.maxDate?U=R(p,_,X):(a.value.minDate&&O(p,_)||a.value.maxDate&&m(p,_))&&(U=!0):U=!0,U},$=p=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!yt(p,a.value.allowedDates,gn(t.monthPicker,t.yearPicker)):!1,z=p=>!d(p),I=p=>o.value.noDisabledRange?!i.eachDayOfInterval({start:p[0],end:p[1]}).some(X=>z(X)):!0,N=p=>{if(p){const _=i.getYear(p);return _>=+t.yearRange[0]&&_<=t.yearRange[1]}return!0},b=(p,_)=>!!(Array.isArray(p)&&p[_]&&(o.value.maxRange||o.value.minRange)&&N(p[_])),A=(p,_,X=0)=>{if(b(_,X)&&N(p)){const h=i.differenceInCalendarDays(p,_[X]),U=vn(_[X],p),T=U.length===1?0:U.filter(C=>z(C)).length,G=Math.abs(h)-(o.value.minMaxRawRange?0:T);if(o.value.minRange&&o.value.maxRange)return G>=+o.value.minRange&&G<=+o.value.maxRange;if(o.value.minRange)return G>=+o.value.minRange;if(o.value.maxRange)return G<=+o.value.maxRange}return!0},v=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,K=p=>Array.isArray(p)?[p[0]?Ht(p[0]):null,p[1]?Ht(p[1]):null]:Ht(p),L=(p,_,X)=>p.find(h=>+h.hours===i.getHours(_)&&h.minutes==="*"?!0:+h.minutes===i.getMinutes(_)&&+h.hours===i.getHours(_))&&X,Z=(p,_,X)=>{const[h,U]=p,[T,G]=_;return!L(h,T,X)&&!L(U,G,X)&&X},H=(p,_)=>{const X=Array.isArray(_)?_:[_];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?Z(t.disabledTimes,X,p):!X.some(h=>L(t.disabledTimes,h,p)):p},D=(p,_)=>{const X=Array.isArray(_)?[Fe(_[0]),_[1]?Fe(_[1]):void 0]:Fe(_),h=!t.disabledTimes(X);return p&&h},x=(p,_)=>t.disabledTimes?Array.isArray(t.disabledTimes)?H(_,p):D(_,p):_,E=p=>{let _=!0;if(!p||v())return!0;const X=!a.value.minDate&&!a.value.maxDate?K(p):p;return(t.maxTime||a.value.maxDate)&&(_=Sn(t.maxTime,a.value.maxDate,"max",Te(X),_)),(t.minTime||a.value.minDate)&&(_=Sn(t.minTime,a.value.minDate,"min",Te(X),_)),x(p,_)},q=p=>{if(!t.monthPicker)return!0;let _=!0;const X=j(ze(p));if(a.value.minDate&&a.value.maxDate){const h=j(ze(a.value.minDate)),U=j(ze(a.value.maxDate));return Se(X,h)&&Me(X,U)||ge(X,h)||ge(X,U)}if(a.value.minDate){const h=j(ze(a.value.minDate));_=Se(X,h)||ge(X,h)}if(a.value.maxDate){const h=j(ze(a.value.maxDate));_=Me(X,h)||ge(X,h)}return _},ie=e.computed(()=>p=>!t.enableTimePicker||t.ignoreTimeValidation?!0:E(p)),ce=e.computed(()=>p=>t.monthPicker?Array.isArray(p)&&(o.value.enabled||r.value.enabled)?!p.filter(X=>!q(X)).length:q(p):!0);return{isDisabled:z,validateDate:d,validateMonthYearInRange:g,isDateRangeAllowed:I,checkMinMaxRange:A,isValidTime:E,isTimeValid:ie,isMonthValid:ce}},Mt=()=>{const t=e.computed(()=>(a,r)=>a==null?void 0:a.includes(r)),n=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===0:!0),o=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===a.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:o}},Nr=(t,n,o)=>{const a=e.ref(0),r=e.reactive({[Ze.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ze.calendar]:!1,[Ze.header]:!1}),u=e.computed(()=>t.monthPicker||t.timePicker),f=R=>{var g;if((g=t.flow)!=null&&g.length){if(!R&&u.value)return m();r[R]=!0,Object.keys(r).filter($=>!r[$]).length||m()}},y=()=>{var R,g;(R=t.flow)!=null&&R.length&&a.value!==-1&&(a.value+=1,n("flow-step",a.value),m()),((g=t.flow)==null?void 0:g.length)===a.value&&e.nextTick().then(()=>d())},d=()=>{a.value=-1},O=(R,g,...$)=>{var z,I;t.flow[a.value]===R&&o.value&&((I=(z=o.value)[g])==null||I.call(z,...$))},m=(R=0)=>{R&&(a.value+=R),O(Pe.month,"toggleMonthPicker",!0),O(Pe.year,"toggleYearPicker",!0),O(Pe.calendar,"toggleTimePicker",!1,!0),O(Pe.time,"toggleTimePicker",!0,!0);const g=t.flow[a.value];(g===Pe.hours||g===Pe.minutes||g===Pe.seconds)&&O(g,"toggleTimePicker",!0,!0,g)};return{childMount:f,updateFlowStep:y,resetFlow:d,handleFlow:m,flowStep:a}},Or={key:1,class:"dp__input_wrap"},Yr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Vr={key:2,class:"dp--clear-btn"},_r=["aria-label"],Ir=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...bt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(t,{expose:n,emit:o}){const a=o,r=t,{defaultedTextInput:u,defaultedAriaLabels:f,defaultedInline:y,defaultedConfig:d,defaultedRange:O,defaultedMultiDates:m,defaultedUI:R,getDefaultPattern:g,getDefaultStartTime:$}=be(r),{checkMinMaxRange:z}=Je(r),I=e.ref(),N=e.ref(null),b=e.ref(!1),A=e.ref(!1),v=e.computed(()=>({dp__pointer:!r.disabled&&!r.readonly&&!u.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!u.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:typeof r.state=="boolean"?r.state:!1,dp__input_invalid:typeof r.state=="boolean"?!r.state:!1,dp__input_focus:b.value||r.isMenuOpen,dp__input_reg:!u.value.enabled,...R.value.input??{}})),K=()=>{a("set-input-date",null),r.clearable&&r.autoApply&&(a("set-empty-date"),I.value=null)},L=C=>{const re=$();return Fn(C,u.value.format??g(),re??wn({},r.enableSeconds),r.inputValue,A.value,r.formatLocale)},Z=C=>{const{rangeSeparator:re}=u.value,[c,W]=C.split(`${re}`);if(c){const ae=L(c.trim()),B=W?L(W.trim()):void 0;if(i.isAfter(ae,B))return;const te=ae&&B?[ae,B]:[ae];z(B,te,0)&&(I.value=ae?te:null)}},H=()=>{A.value=!0},D=C=>{if(O.value.enabled)Z(C);else if(m.value.enabled){const re=C.split(";");I.value=re.map(c=>L(c.trim())).filter(c=>c)}else I.value=L(C)},x=C=>{var c;const re=typeof C=="string"?C:(c=C.target)==null?void 0:c.value;re!==""?(u.value.openMenu&&!r.isMenuOpen&&a("open"),D(re),a("set-input-date",I.value)):K(),A.value=!1,a("update:input-value",re),a("text-input",C,I.value)},E=C=>{u.value.enabled?(D(C.target.value),u.value.enterSubmit&&It(I.value)&&r.inputValue!==""?(a("set-input-date",I.value,!0),I.value=null):u.value.enterSubmit&&r.inputValue===""&&(I.value=null,a("clear"))):ce(C)},q=(C,re)=>{u.value.enabled&&u.value.tabSubmit&&!re&&D(C.target.value),u.value.tabSubmit&&It(I.value)&&r.inputValue!==""?(a("set-input-date",I.value,!0,!0),I.value=null):u.value.tabSubmit&&r.inputValue===""&&(I.value=null,a("clear",!0))},ie=()=>{b.value=!0,a("focus"),e.nextTick().then(()=>{var C;u.value.enabled&&u.value.selectOnFocus&&((C=N.value)==null||C.select())})},ce=C=>{if(xe(C,d.value,!0),u.value.enabled&&u.value.openMenu&&!y.value.input){if(u.value.openMenu==="open"&&!r.isMenuOpen)return a("open");if(u.value.openMenu==="toggle")return a("toggle")}else u.value.enabled||a("toggle")},p=()=>{a("real-blur"),b.value=!1,(!r.isMenuOpen||y.value.enabled&&y.value.input)&&a("blur"),r.autoApply&&u.value.enabled&&I.value&&!r.isMenuOpen&&(a("set-input-date",I.value),a("select-date"),I.value=null)},_=C=>{xe(C,d.value,!0),a("clear")},X=()=>{a("close")},h=C=>{if(C.key==="Tab"&&q(C),C.key==="Enter"&&E(C),C.key==="Escape"&&u.value.escClose&&X(),!u.value.enabled){if(C.code==="Tab")return;C.preventDefault()}},U=()=>{var C;(C=N.value)==null||C.focus({preventScroll:!0})},T=C=>{I.value=C},G=C=>{C.key===he.tab&&q(C,!0)};return n({focusInput:U,setParsedDate:T}),(C,re)=>{var c,W,ae;return e.openBlock(),e.createElementBlock("div",{onClick:ce},[C.$slots.trigger&&!C.$slots["dp-input"]&&!e.unref(y).enabled?e.renderSlot(C.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!C.$slots.trigger&&(!e.unref(y).enabled||e.unref(y).input)?(e.openBlock(),e.createElementBlock("div",Or,[C.$slots["dp-input"]&&!C.$slots.trigger&&(!e.unref(y).enabled||e.unref(y).enabled&&e.unref(y).input)?e.renderSlot(C.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:x,onEnter:E,onTab:q,onClear:_,onBlur:p,onKeypress:h,onPaste:H,onFocus:ie,openMenu:()=>C.$emit("open"),closeMenu:()=>C.$emit("close"),toggleMenu:()=>C.$emit("toggle")}):e.createCommentVNode("",!0),C.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:C.uid?`dp-input-${C.uid}`:void 0,ref_key:"inputRef",ref:N,"data-test-id":"dp-input",name:C.name,class:e.normalizeClass(v.value),inputmode:e.unref(u).enabled?"text":"none",placeholder:C.placeholder,disabled:C.disabled,readonly:C.readonly,required:C.required,value:t.inputValue,autocomplete:C.autocomplete,"aria-label":(c=e.unref(f))==null?void 0:c.input,"aria-disabled":C.disabled||void 0,"aria-invalid":C.state===!1?!0:void 0,onInput:x,onBlur:p,onFocus:ie,onKeypress:h,onKeydown:re[0]||(re[0]=B=>h(B)),onPaste:H},null,42,Yr)),e.createElementVNode("div",{onClick:re[3]||(re[3]=B=>a("toggle"))},[C.$slots["input-icon"]&&!C.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:re[1]||(re[1]=B=>a("toggle"))},[e.renderSlot(C.$slots,"input-icon")])):e.createCommentVNode("",!0),!C.$slots["input-icon"]&&!C.hideInputIcon&&!C.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(at),{key:1,"aria-label":(W=e.unref(f))==null?void 0:W.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:re[2]||(re[2]=B=>a("toggle"))},null,8,["aria-label"])):e.createCommentVNode("",!0)]),C.$slots["clear-icon"]&&(C.alwaysClearable||t.inputValue&&C.clearable&&!C.disabled&&!C.readonly)?(e.openBlock(),e.createElementBlock("span",Vr,[e.renderSlot(C.$slots,"clear-icon",{clear:_})])):e.createCommentVNode("",!0),!C.$slots["clear-icon"]&&(C.alwaysClearable||C.clearable&&t.inputValue&&!C.disabled&&!C.readonly)?(e.openBlock(),e.createElementBlock("button",{key:3,"aria-label":(ae=e.unref(f))==null?void 0:ae.clearInput,class:"dp--clear-btn",type:"button",onKeydown:re[4]||(re[4]=B=>e.unref(Ne)(B,()=>_(B),!0,G)),onClick:re[5]||(re[5]=e.withModifiers(B=>_(B),["prevent"]))},[e.createVNode(e.unref(on),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,_r)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),zr=typeof window<"u"?window:void 0,Jt=()=>{},Lr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Hr=(t,n,o,a)=>{if(!t)return Jt;let r=Jt;const u=e.watch(()=>e.unref(t),y=>{r(),y&&(y.removeEventListener(n,o),y.addEventListener(n,o,a),r=()=>{y.removeEventListener(n,o,a),r=Jt})},{immediate:!0,flush:"post"}),f=()=>{u(),r()};return Lr(f),f},Ur=(t,n,o,a={})=>{const{window:r=zr,event:u="pointerdown"}=a;return r?Hr(r,u,y=>{const d=Be(t),O=Be(n);!d||!O||d===y.target||y.composedPath().includes(d)||y.composedPath().includes(O)||o(y)},{passive:!0}):void 0},Wr=["data-dp-mobile"],jr=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...bt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(t,{expose:n,emit:o}){const a=o,r=t,u=e.useSlots(),f=e.ref(!1),y=e.toRef(r,"modelValue"),d=e.toRef(r,"timezone"),O=e.ref(null),m=e.ref(null),R=e.ref(null),g=e.ref(!1),$=e.ref(null),z=e.ref(!1),I=e.ref(!1),N=e.ref(!1),b=e.ref(!1),{setMenuFocused:A,setShiftKey:v}=Tn(),{clearArrowNav:K}=Qe(),{validateDate:L,isValidTime:Z}=Je(r),{defaultedTransitions:H,defaultedTextInput:D,defaultedInline:x,defaultedConfig:E,defaultedRange:q,defaultedMultiDates:ie}=be(r),{menuTransition:ce,showTransition:p}=pt(H),{isMobile:_}=_n(E),X=e.getCurrentInstance();e.onMounted(()=>{te(r.modelValue),e.nextTick().then(()=>{if(!x.value.enabled){const P=c($.value);P==null||P.addEventListener("scroll",se),window==null||window.addEventListener("resize",Y)}}),x.value.enabled&&(f.value=!0),window==null||window.addEventListener("keyup",pe),window==null||window.addEventListener("keydown",fe)}),e.onUnmounted(()=>{if(!x.value.enabled){const P=c($.value);P==null||P.removeEventListener("scroll",se),window==null||window.removeEventListener("resize",Y)}window==null||window.removeEventListener("keyup",pe),window==null||window.removeEventListener("keydown",fe)});const h=Ye(u,"all",r.presetDates),U=Ye(u,"input");e.watch([y,d],()=>{te(y.value)},{deep:!0});const{openOnTop:T,menuStyle:G,xCorrect:C,setMenuPosition:re,getScrollableParent:c,shadowRender:W}=Ar({menuRef:O,menuRefInner:m,inputRef:R,pickerWrapperRef:$,inline:x,emit:a,props:r,slots:u}),{inputValue:ae,internalModelValue:B,parseExternalModelValue:te,emitModelValue:l,formatInputValue:M,checkBeforeEmit:ne}=Sa(a,r,g),S=e.computed(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:x.value.enabled,"dp--flex-display-collapsed":N.value,dp__flex_display_with_input:x.value.input})),de=e.computed(()=>r.dark?"dp__theme_dark":"dp__theme_light"),me=e.computed(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||x.value.enabled}:{}),ee=e.computed(()=>({class:"dp__outer_menu_wrap"})),s=e.computed(()=>x.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),V=()=>{var P,J;return((J=(P=R.value)==null?void 0:P.$el)==null?void 0:J.getBoundingClientRect())??{width:0,left:0,right:0}},se=()=>{f.value&&(E.value.closeOnScroll?le():re())},Y=()=>{var J;f.value&&re();const P=((J=m.value)==null?void 0:J.$el.getBoundingClientRect().width)??0;N.value=document.body.offsetWidth<=P},pe=P=>{P.key==="Tab"&&!x.value.enabled&&!r.teleport&&E.value.tabOutClosesMenu&&($.value.contains(document.activeElement)||le()),I.value=P.shiftKey},fe=P=>{I.value=P.shiftKey},ye=()=>{!r.disabled&&!r.readonly&&(W(X,In,r),re(!1),f.value=!0,f.value&&a("open"),f.value||Ve(),te(r.modelValue))},De=()=>{var P,J;ae.value="",Ve(),(P=m.value)==null||P.onValueCleared(),(J=R.value)==null||J.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),E.value.closeOnClearValue&&le()},ve=()=>{const P=B.value;return!P||!Array.isArray(P)&&L(P)?!0:Array.isArray(P)?ie.value.enabled||P.length===2&&L(P[0])&&L(P[1])?!0:q.value.partialRange&&!r.timePicker?L(P[0]):!1:!1},w=()=>{ne()&&ve()?(l(),le()):a("invalid-select",B.value)},Q=P=>{we(),l(),E.value.closeOnAutoApply&&!P&&le()},we=()=>{R.value&&D.value.enabled&&R.value.setParsedDate(B.value)},$e=(P=!1)=>{r.autoApply&&Z(B.value)&&ve()&&(q.value.enabled&&Array.isArray(B.value)?(q.value.partialRange||B.value.length===2)&&Q(P):Q(P))},Ve=()=>{D.value.enabled||(B.value=null)},le=(P=!1)=>{var J,oe;P&&B.value&&E.value.setDateOnMenuClose&&w(),x.value.enabled||(f.value&&(f.value=!1,C.value=!1,A(!1),v(!1),K(),a("closed"),ae.value&&te(y.value)),Ve(),a("blur"),(oe=(J=m.value)==null?void 0:J.$el)==null||oe.remove())},et=(P,J,oe=!1)=>{if(!P){B.value=null;return}const Ke=Array.isArray(P)?!P.some(tt=>!L(tt)):L(P),Ue=Z(P);Ke&&Ue?(b.value=!0,B.value=P,J?(z.value=oe,w(),a("text-submit")):r.autoApply&&$e(),e.nextTick().then(()=>{b.value=!1})):a("invalid-date",P)},He=()=>{r.autoApply&&Z(B.value)&&l(),we()},Dt=()=>f.value?le():ye(),Ft=P=>{B.value=P},en=()=>{D.value.enabled&&(g.value=!0,M()),a("focus")},tn=()=>{if(D.value.enabled&&(g.value=!1,te(r.modelValue),z.value)){const P=Xn($.value,I.value);P==null||P.focus()}a("blur")},nn=P=>{m.value&&m.value.updateMonthYear(0,{month:dn(P.month),year:dn(P.year)})},an=P=>{te(P??r.modelValue)},zn=(P,J)=>{var oe;(oe=m.value)==null||oe.switchView(P,J)},k=(P,J)=>E.value.onClickOutside?E.value.onClickOutside(P,J):le(!0),F=(P=0)=>{var J;(J=m.value)==null||J.handleFlow(P)},ue=()=>O;return Ur(O,R,P=>k(ve,P)),n({closeMenu:le,selectDate:w,clearValue:De,openMenu:ye,onScroll:se,formatInputValue:M,updateInternalModelValue:Ft,setMonthYear:nn,parseModel:an,switchView:zn,toggleMenu:Dt,handleFlow:F,getDpWrapMenuRef:ue}),(P,J)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:$,class:e.normalizeClass(S.value),"data-datepicker-instance":"","data-dp-mobile":e.unref(_)},[e.createVNode(Ir,e.mergeProps({ref_key:"inputRef",ref:R,"input-value":e.unref(ae),"onUpdate:inputValue":J[0]||(J[0]=oe=>e.isRef(ae)?ae.value=oe:null),"is-menu-open":f.value},P.$props,{onClear:De,onOpen:ye,onSetInputDate:et,onSetEmptyDate:e.unref(l),onSelectDate:w,onToggle:Dt,onClose:le,onFocus:en,onBlur:tn,onRealBlur:J[1]||(J[1]=oe=>g.value=!1),onTextInput:J[2]||(J[2]=oe=>P.$emit("text-input",oe))}),e.createSlots({_:2},[e.renderList(e.unref(U),(oe,Ke)=>({name:oe,fn:e.withCtx(Ue=>[e.renderSlot(P.$slots,oe,e.normalizeProps(e.guardReactiveProps(Ue)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(P.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(me.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(ce)(e.unref(T)),css:e.unref(p)&&!e.unref(x).enabled},{default:e.withCtx(()=>[f.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:O},ee.value,{class:{"dp--menu-wrapper":!e.unref(x).enabled},style:e.unref(x).enabled?void 0:e.unref(G)}),[e.createVNode(In,e.mergeProps({ref_key:"dpMenuRef",ref:m},P.$props,{"internal-model-value":e.unref(B),"onUpdate:internalModelValue":J[3]||(J[3]=oe=>e.isRef(B)?B.value=oe:null),class:{[de.value]:!0,"dp--menu-wrapper":P.teleport},"open-on-top":e.unref(T),"no-overlay-focus":s.value,collapse:N.value,"get-input-rect":V,"is-text-input-date":b.value,onClosePicker:le,onSelectDate:w,onAutoApply:$e,onTimeUpdate:He,onFlowStep:J[4]||(J[4]=oe=>P.$emit("flow-step",oe)),onUpdateMonthYear:J[5]||(J[5]=oe=>P.$emit("update-month-year",oe)),onInvalidSelect:J[6]||(J[6]=oe=>P.$emit("invalid-select",e.unref(B))),onAutoApplyInvalid:J[7]||(J[7]=oe=>P.$emit("invalid-select",oe)),onInvalidFixedRange:J[8]||(J[8]=oe=>P.$emit("invalid-fixed-range",oe)),onRecalculatePosition:e.unref(re),onTooltipOpen:J[9]||(J[9]=oe=>P.$emit("tooltip-open",oe)),onTooltipClose:J[10]||(J[10]=oe=>P.$emit("tooltip-close",oe)),onTimePickerOpen:J[11]||(J[11]=oe=>P.$emit("time-picker-open",oe)),onTimePickerClose:J[12]||(J[12]=oe=>P.$emit("time-picker-close",oe)),onAmPmChange:J[13]||(J[13]=oe=>P.$emit("am-pm-change",oe)),onRangeStart:J[14]||(J[14]=oe=>P.$emit("range-start",oe)),onRangeEnd:J[15]||(J[15]=oe=>P.$emit("range-end",oe)),onDateUpdate:J[16]||(J[16]=oe=>P.$emit("date-update",oe)),onInvalidDate:J[17]||(J[17]=oe=>P.$emit("invalid-date",oe)),onOverlayToggle:J[18]||(J[18]=oe=>P.$emit("overlay-toggle",oe)),onMenuBlur:J[19]||(J[19]=oe=>P.$emit("blur"))}),e.createSlots({_:2},[e.renderList(e.unref(h),(oe,Ke)=>({name:oe,fn:e.withCtx(Ue=>[e.renderSlot(P.$slots,oe,e.normalizeProps(e.guardReactiveProps({...Ue})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,Wr))}}),Zt=(()=>{const t=jr;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Zt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(Zt[t]=n)}),Zt});
