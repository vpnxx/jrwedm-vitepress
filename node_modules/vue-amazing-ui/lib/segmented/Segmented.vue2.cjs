"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),S=require("../utils/index.cjs"),B=["onClick"],x=["checked","disabled"],z=["title"],R=t.defineComponent({__name:"Segmented",props:{block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},options:{default:()=>[]},size:{default:"middle"},value:{default:void 0}},emits:["update:value","change"],setup(v,{emit:y}){const o=v,s=t.ref(),f=t.ref(),a=t.ref(),m=t.ref(0),g=t.ref(0),b=y,k=t.computed(()=>{const e={small:"2px",middle:"4px",large:"8px"};return{position:"absolute",top:0,left:`${g.value}px`,backgroundColor:"#fff",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.03), 0 1px 6px -1px rgba(0, 0, 0, 0.02), 0 2px 4px 0 rgba(0, 0, 0, 0.02)",width:`${m.value}px`,height:"100%",borderRadius:e[o.size],pointerEvents:"none",transition:"all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)"}});t.watch(()=>o.value,async e=>{e!==a.value&&(a.value=e,await t.nextTick(),i())},{immediate:!0}),S.useResizeObserver(s,()=>{i()});function i(){const e=o.options.findIndex(l=>n(l)===a.value),d=f.value?.[e];if(d&&s.value){const{width:l,left:r}=d.getBoundingClientRect(),{left:p}=s.value.getBoundingClientRect();m.value=l,g.value=r-p}}function h(e){e!==a.value&&(a.value=e,i(),b("update:value",e),b("change",e))}function c(e){return typeof e=="object"&&e?.disabled||!1}function n(e){return typeof e=="object"?e.value:e}function u(e){return typeof e=="object"?e.label:e}return(e,d)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["segmented-wrap",{"segmented-small":e.size=="small","segmented-large":e.size=="large","segmented-block":e.block}])},[t.createElementVNode("div",{ref_key:"segmentedGroupRef",ref:s,class:"segmented-group"},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.options,(l,r)=>(t.openBlock(),t.createElementBlock("div",{ref_for:!0,ref_key:"segmentedItemRef",ref:f,class:t.normalizeClass(["segmented-item",{"segmented-item-selected":a.value===n(l),"segmented-item-disabled":e.disabled||c(l),"segmented-item-block":e.block}]),key:r,onClick:p=>e.disabled||c(l)?()=>!1:h(n(l))},[t.createElementVNode("input",{type:"radio",class:"segmented-item-input",checked:a.value===n(l),disabled:e.disabled||c(l)},null,8,x),t.createElementVNode("div",{class:"segmented-item-label",title:typeof l=="object"&&l.payload?void 0:String(u(l))},[t.renderSlot(e.$slots,"label",{option:l,label:u(l),index:r,payload:typeof l=="object"?l.payload:{}},()=>[t.createTextVNode(t.toDisplayString(u(l)),1)],!0)],8,z)],10,B))),128)),t.createElementVNode("div",{style:t.normalizeStyle(k.value)},null,4)],512)],2))}});exports.default=R;
